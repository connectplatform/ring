"use strict";(self.webpackChunkring_docs=self.webpackChunkring_docs||[]).push([[5831],{25640:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"api/profile","title":"User Profile Management","description":"Overview","source":"@site/docs/api/profile.md","sourceDirName":"api","slug":"/api/profile","permalink":"/ring/ru/docs/api/profile","draft":false,"unlisted":false,"editUrl":"https://github.com/connectplatform/ring/ring-docs/tree/main/docs/api/profile.md","tags":[],"version":"current","lastUpdatedAt":1750259184000,"frontMatter":{},"sidebar":"apiSidebar","previous":{"title":"Web3 Nonce Generation","permalink":"/ring/ru/docs/api/auth-crypto-nonce"},"next":{"title":"User Settings Management","permalink":"/ring/ru/docs/api/settings"}}');var i=r(74848),t=r(28453);const a={},l="User Profile Management",o={},d=[{value:"Overview",id:"overview",level:2},{value:"Authentication",id:"authentication",level:2},{value:"Endpoints",id:"endpoints",level:2},{value:"Get User Profile",id:"get-user-profile",level:3},{value:"Update User Profile",id:"update-user-profile",level:3},{value:"Upload Profile Avatar",id:"upload-profile-avatar",level:3},{value:"Delete Profile Avatar",id:"delete-profile-avatar",level:3},{value:"Code Examples",id:"code-examples",level:2},{value:"JavaScript/TypeScript",id:"javascripttypescript",level:3},{value:"React Hook Example",id:"react-hook-example",level:3},{value:"cURL Examples",id:"curl-examples",level:3},{value:"Validation Rules",id:"validation-rules",level:2},{value:"Field Constraints",id:"field-constraints",level:3},{value:"Avatar Requirements",id:"avatar-requirements",level:3},{value:"Skills and Interests",id:"skills-and-interests",level:3},{value:"Error Handling",id:"error-handling",level:2},{value:"Validation Errors (400)",id:"validation-errors-400",level:3},{value:"Unauthorized (401)",id:"unauthorized-401",level:3},{value:"Profile Not Found (404)",id:"profile-not-found-404",level:3},{value:"File Upload Errors (400)",id:"file-upload-errors-400",level:3},{value:"Privacy Settings",id:"privacy-settings",level:2},{value:"Visibility Controls",id:"visibility-controls",level:3},{value:"Public Profile Access",id:"public-profile-access",level:3},{value:"Data Export",id:"data-export",level:2},{value:"Export User Data",id:"export-user-data",level:3},{value:"Security Features",id:"security-features",level:2},{value:"Data Protection",id:"data-protection",level:3},{value:"Access Control",id:"access-control",level:3},{value:"Related Endpoints",id:"related-endpoints",level:2},{value:"Testing",id:"testing",level:2},{value:"Unit Tests",id:"unit-tests",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"user-profile-management",children:"User Profile Management"})}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"/api/profile"})," endpoint manages user profile information including personal details, preferences, and account settings. This endpoint supports full CRUD operations for authenticated users."]}),"\n",(0,i.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Required"}),": Valid session token\n",(0,i.jsx)(n.strong,{children:"Roles"}),": All authenticated users (Subscriber, Member, Confidential, Admin)"]}),"\n",(0,i.jsx)(n.h2,{id:"endpoints",children:"Endpoints"}),"\n",(0,i.jsx)(n.h3,{id:"get-user-profile",children:"Get User Profile"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"GET /api/profile\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Headers:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"Authorization: Bearer <session-token>\nAccept: application/json\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response (200):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "id": "user_123",\n  "email": "john.doe@example.com",\n  "name": "John Doe",\n  "firstName": "John",\n  "lastName": "Doe",\n  "avatar": "https://storage.ring.ck.ua/avatars/user_123.jpg",\n  "role": "member",\n  "bio": "Software engineer passionate about Web3 and blockchain technology",\n  "location": "Kyiv, Ukraine",\n  "website": "https://johndoe.dev",\n  "linkedin": "https://linkedin.com/in/johndoe",\n  "github": "https://github.com/johndoe",\n  "twitter": "https://twitter.com/johndoe",\n  "company": "Tech Innovations Ltd",\n  "position": "Senior Developer",\n  "skills": ["JavaScript", "TypeScript", "React", "Node.js", "Blockchain"],\n  "interests": ["Web3", "DeFi", "Smart Contracts"],\n  "isVerified": true,\n  "isPublic": true,\n  "walletAddress": "0x742d35Cc6634C0532925a3b8D4C2C4e0C8A8C8C8",\n  "preferences": {\n    "language": "en",\n    "theme": "dark",\n    "notifications": {\n      "email": true,\n      "push": true,\n      "sms": false\n    },\n    "privacy": {\n      "showEmail": false,\n      "showWallet": false,\n      "showLocation": true\n    }\n  },\n  "createdAt": "2024-01-15T10:30:00Z",\n  "updatedAt": "2024-12-14T15:45:00Z",\n  "lastLoginAt": "2024-12-14T15:45:00Z"\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"update-user-profile",children:"Update User Profile"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"PUT /api/profile\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Headers:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"Authorization: Bearer <session-token>\nContent-Type: application/json\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "name": "John Smith",\n  "firstName": "John",\n  "lastName": "Smith",\n  "bio": "Full-stack developer specializing in blockchain applications",\n  "location": "Lviv, Ukraine",\n  "website": "https://johnsmith.dev",\n  "linkedin": "https://linkedin.com/in/johnsmith",\n  "github": "https://github.com/johnsmith",\n  "twitter": "https://twitter.com/johnsmith",\n  "company": "Blockchain Solutions Inc",\n  "position": "Lead Developer",\n  "skills": ["JavaScript", "TypeScript", "React", "Node.js", "Solidity", "Web3"],\n  "interests": ["DeFi", "NFTs", "Smart Contracts", "Cryptocurrency"],\n  "isPublic": true,\n  "preferences": {\n    "language": "uk",\n    "theme": "light",\n    "notifications": {\n      "email": true,\n      "push": false,\n      "sms": true\n    },\n    "privacy": {\n      "showEmail": false,\n      "showWallet": true,\n      "showLocation": true\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response (200):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "message": "Profile updated successfully",\n  "data": {\n    "id": "user_123",\n    "updatedAt": "2024-12-14T16:00:00Z"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"upload-profile-avatar",children:"Upload Profile Avatar"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"POST /api/profile/avatar\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Headers:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"Authorization: Bearer <session-token>\nContent-Type: multipart/form-data\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'Content-Disposition: form-data; name="avatar"; filename="avatar.jpg"\nContent-Type: image/jpeg\n\n[Binary image data]\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response (200):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "message": "Avatar uploaded successfully",\n  "data": {\n    "avatarUrl": "https://storage.ring.ck.ua/avatars/user_123_1703434800.jpg",\n    "updatedAt": "2024-12-14T16:00:00Z"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"delete-profile-avatar",children:"Delete Profile Avatar"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"DELETE /api/profile/avatar\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Headers:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"Authorization: Bearer <session-token>\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response (200):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "message": "Avatar deleted successfully",\n  "data": {\n    "avatarUrl": null,\n    "updatedAt": "2024-12-14T16:05:00Z"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"code-examples",children:"Code Examples"}),"\n",(0,i.jsx)(n.h3,{id:"javascripttypescript",children:"JavaScript/TypeScript"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Get user profile\nasync function getUserProfile() {\n  try {\n    const response = await fetch('/api/profile', {\n      headers: {\n        'Authorization': `Bearer ${sessionToken}`,\n        'Accept': 'application/json'\n      }\n    })\n    \n    if (!response.ok) {\n      throw new Error('Failed to fetch profile')\n    }\n    \n    const profile = await response.json()\n    return profile\n  } catch (error) {\n    console.error('Error fetching profile:', error)\n    throw error\n  }\n}\n\n// Update user profile\nasync function updateUserProfile(profileData: Partial<UserProfile>) {\n  try {\n    const response = await fetch('/api/profile', {\n      method: 'PUT',\n      headers: {\n        'Authorization': `Bearer ${sessionToken}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(profileData)\n    })\n    \n    if (!response.ok) {\n      throw new Error('Failed to update profile')\n    }\n    \n    const result = await response.json()\n    return result\n  } catch (error) {\n    console.error('Error updating profile:', error)\n    throw error\n  }\n}\n\n// Upload avatar\nasync function uploadAvatar(file: File) {\n  try {\n    const formData = new FormData()\n    formData.append('avatar', file)\n    \n    const response = await fetch('/api/profile/avatar', {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${sessionToken}`\n      },\n      body: formData\n    })\n    \n    if (!response.ok) {\n      throw new Error('Failed to upload avatar')\n    }\n    \n    const result = await response.json()\n    return result\n  } catch (error) {\n    console.error('Error uploading avatar:', error)\n    throw error\n  }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"react-hook-example",children:"React Hook Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import { useState, useEffect } from 'react'\nimport { useSession } from 'next-auth/react'\n\ninterface UserProfile {\n  id: string\n  email: string\n  name: string\n  firstName: string\n  lastName: string\n  avatar?: string\n  bio?: string\n  location?: string\n  // ... other fields\n}\n\nexport function useUserProfile() {\n  const { data: session } = useSession()\n  const [profile, setProfile] = useState<UserProfile | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  \n  useEffect(() => {\n    if (session?.user) {\n      fetchProfile()\n    }\n  }, [session])\n  \n  const fetchProfile = async () => {\n    try {\n      setLoading(true)\n      const response = await fetch('/api/profile')\n      \n      if (!response.ok) {\n        throw new Error('Failed to fetch profile')\n      }\n      \n      const profileData = await response.json()\n      setProfile(profileData)\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Unknown error')\n    } finally {\n      setLoading(false)\n    }\n  }\n  \n  const updateProfile = async (updates: Partial<UserProfile>) => {\n    try {\n      const response = await fetch('/api/profile', {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(updates)\n      })\n      \n      if (!response.ok) {\n        throw new Error('Failed to update profile')\n      }\n      \n      await fetchProfile() // Refresh profile data\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Update failed')\n      throw err\n    }\n  }\n  \n  return {\n    profile,\n    loading,\n    error,\n    updateProfile,\n    refetch: fetchProfile\n  }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"curl-examples",children:"cURL Examples"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Get profile\ncurl -X GET "https://ring.ck.ua/api/profile" \\\n  -H "Authorization: Bearer your-session-token" \\\n  -H "Accept: application/json"\n\n# Update profile\ncurl -X PUT "https://ring.ck.ua/api/profile" \\\n  -H "Authorization: Bearer your-session-token" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "name": "John Smith",\n    "bio": "Full-stack developer",\n    "location": "Kyiv, Ukraine",\n    "skills": ["JavaScript", "TypeScript", "React"]\n  }\'\n\n# Upload avatar\ncurl -X POST "https://ring.ck.ua/api/profile/avatar" \\\n  -H "Authorization: Bearer your-session-token" \\\n  -F "avatar=@/path/to/avatar.jpg"\n\n# Delete avatar\ncurl -X DELETE "https://ring.ck.ua/api/profile/avatar" \\\n  -H "Authorization: Bearer your-session-token"\n'})}),"\n",(0,i.jsx)(n.h2,{id:"validation-rules",children:"Validation Rules"}),"\n",(0,i.jsx)(n.h3,{id:"field-constraints",children:"Field Constraints"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Min Length"}),(0,i.jsx)(n.th,{children:"Max Length"}),(0,i.jsx)(n.th,{children:"Required"}),(0,i.jsx)(n.th,{children:"Pattern"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"name"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"2"}),(0,i.jsx)(n.td,{children:"100"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Letters, spaces, hyphens"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"firstName"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"1"}),(0,i.jsx)(n.td,{children:"50"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Letters, hyphens"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"lastName"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"1"}),(0,i.jsx)(n.td,{children:"50"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Letters, hyphens"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bio"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"0"}),(0,i.jsx)(n.td,{children:"500"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Any characters"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"location"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"0"}),(0,i.jsx)(n.td,{children:"100"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Any characters"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"website"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"0"}),(0,i.jsx)(n.td,{children:"200"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Valid URL"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"linkedin"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"0"}),(0,i.jsx)(n.td,{children:"200"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"LinkedIn URL"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"github"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"0"}),(0,i.jsx)(n.td,{children:"200"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"GitHub URL"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"twitter"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"0"}),(0,i.jsx)(n.td,{children:"200"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Twitter URL"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"company"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"0"}),(0,i.jsx)(n.td,{children:"100"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Any characters"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"position"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"0"}),(0,i.jsx)(n.td,{children:"100"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Any characters"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"avatar-requirements",children:"Avatar Requirements"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"File Types"}),": JPEG, PNG, WebP"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Max Size"}),": 5MB"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Dimensions"}),": 100x100 to 2000x2000 pixels"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Aspect Ratio"}),": Square (1:1) recommended"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"skills-and-interests",children:"Skills and Interests"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Max Items"}),": 20 skills, 10 interests"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Item Length"}),": 2-50 characters each"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Allowed Characters"}),": Letters, numbers, spaces, hyphens, plus signs"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,i.jsx)(n.h3,{id:"validation-errors-400",children:"Validation Errors (400)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "error": "VALIDATION_ERROR",\n  "message": "Invalid input data",\n  "details": [\n    {\n      "field": "name",\n      "message": "Name must be at least 2 characters long"\n    },\n    {\n      "field": "website",\n      "message": "Website must be a valid URL"\n    }\n  ]\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"unauthorized-401",children:"Unauthorized (401)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "error": "UNAUTHORIZED",\n  "message": "Authentication required"\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"profile-not-found-404",children:"Profile Not Found (404)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "error": "PROFILE_NOT_FOUND",\n  "message": "User profile not found"\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"file-upload-errors-400",children:"File Upload Errors (400)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "error": "INVALID_FILE",\n  "message": "Avatar file is too large or invalid format",\n  "details": {\n    "maxSize": "5MB",\n    "allowedTypes": ["image/jpeg", "image/png", "image/webp"]\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"privacy-settings",children:"Privacy Settings"}),"\n",(0,i.jsx)(n.h3,{id:"visibility-controls",children:"Visibility Controls"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"interface PrivacySettings {\n  showEmail: boolean      // Show email in public profile\n  showWallet: boolean     // Show wallet address\n  showLocation: boolean   // Show location information\n  showCompany: boolean    // Show company information\n  showSocial: boolean     // Show social media links\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"public-profile-access",children:"Public Profile Access"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Public Profiles"}),": Visible to all users"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Private Profiles"}),": Only visible to user and admins"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Confidential Members"}),": Enhanced privacy controls"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"data-export",children:"Data Export"}),"\n",(0,i.jsx)(n.h3,{id:"export-user-data",children:"Export User Data"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"GET /api/profile/export\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response (200):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "user": {\n    "profile": { /* full profile data */ },\n    "entities": [ /* user\'s entities */ ],\n    "opportunities": [ /* user\'s opportunities */ ],\n    "notifications": [ /* notification history */ ],\n    "activity": [ /* activity log */ ]\n  },\n  "exportedAt": "2024-12-14T16:00:00Z",\n  "format": "json"\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"security-features",children:"Security Features"}),"\n",(0,i.jsx)(n.h3,{id:"data-protection",children:"Data Protection"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Encryption"}),": Sensitive data encrypted at rest"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Sanitization"}),": All input sanitized and validated"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Rate Limiting"}),": 30 requests per minute per user"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Audit Logging"}),": All profile changes logged"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"access-control",children:"Access Control"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Own Profile"}),": Users can only modify their own profile"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Admin Override"}),": Admins can view/modify any profile"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Role Restrictions"}),": Some fields restricted by user role"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"related-endpoints",children:"Related Endpoints"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/ring/ru/docs/api/auth-nextauth",children:(0,i.jsx)(n.code,{children:"/api/auth/[...nextauth]"})})," - Authentication"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/ring/ru/docs/api/settings",children:(0,i.jsx)(n.code,{children:"/api/settings"})})," - User settings"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/ring/ru/docs/api/set-user-role",children:(0,i.jsx)(n.code,{children:"/api/set-user-role"})})," - Role management"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/ring/ru/docs/api/entities-list",children:(0,i.jsx)(n.code,{children:"/api/entities"})})," - User entities"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,i.jsx)(n.h3,{id:"unit-tests",children:"Unit Tests"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"describe('Profile API', () => {\n  test('should get user profile', async () => {\n    const response = await request(app)\n      .get('/api/profile')\n      .set('Authorization', `Bearer ${validToken}`)\n      .expect(200)\n    \n    expect(response.body).toHaveProperty('id')\n    expect(response.body).toHaveProperty('email')\n    expect(response.body).toHaveProperty('name')\n  })\n  \n  test('should update profile with valid data', async () => {\n    const updateData = {\n      name: 'Updated Name',\n      bio: 'Updated bio'\n    }\n    \n    const response = await request(app)\n      .put('/api/profile')\n      .set('Authorization', `Bearer ${validToken}`)\n      .send(updateData)\n      .expect(200)\n    \n    expect(response.body.success).toBe(true)\n  })\n  \n  test('should reject invalid profile data', async () => {\n    const invalidData = {\n      name: 'A', // Too short\n      website: 'not-a-url'\n    }\n    \n    await request(app)\n      .put('/api/profile')\n      .set('Authorization', `Bearer ${validToken}`)\n      .send(invalidData)\n      .expect(400)\n  })\n})\n"})}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Issue"}),': "Profile not found"\n',(0,i.jsx)(n.strong,{children:"Solution"}),": Ensure user is authenticated and profile exists"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Issue"}),': "Avatar upload failed"\n',(0,i.jsx)(n.strong,{children:"Solution"}),": Check file size (<5MB) and format (JPEG/PNG/WebP)"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Issue"}),': "Validation errors"\n',(0,i.jsx)(n.strong,{children:"Solution"}),": Review field requirements and ensure data meets constraints"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Issue"}),': "Permission denied"\n',(0,i.jsx)(n.strong,{children:"Solution"}),": Verify user has permission to modify the profile"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>l});var s=r(96540);const i={},t=s.createContext(i);function a(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);