"use strict";(self.webpackChunkring_docs=self.webpackChunkring_docs||[]).push([[8421],{7921:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"api/wallet-transfer","title":"Wallet Transfer API","description":"This API endpoint allows users to transfer funds from their wallet to another address. It handles the authentication, retrieves the user\'s wallet information, and executes the transaction on the Polygon network.","source":"@site/docs/api/wallet-transfer.md","sourceDirName":"api","slug":"/api/wallet-transfer","permalink":"/ring/docs/api/wallet-transfer","draft":false,"unlisted":false,"editUrl":"https://github.com/connectplatform/ring/ring-docs/tree/main/docs/api/wallet-transfer.md","tags":[],"version":"current","lastUpdatedAt":1733486397000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"apiSidebar","previous":{"title":"Wallet Balance API","permalink":"/ring/docs/api/wallet-balance"},"next":{"title":"Wallet Creation API","permalink":"/ring/docs/api/ensure-wallet"}}');var i=t(4848),r=t(8453);const a={sidebar_position:2},o="Wallet Transfer API",l={},d=[{value:"Endpoint",id:"endpoint",level:2},{value:"Authentication",id:"authentication",level:2},{value:"Request Body",id:"request-body",level:2},{value:"Response",id:"response",level:2},{value:"Error Responses",id:"error-responses",level:2}];function c(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"wallet-transfer-api",children:"Wallet Transfer API"})}),"\n",(0,i.jsx)(n.p,{children:"This API endpoint allows users to transfer funds from their wallet to another address. It handles the authentication, retrieves the user's wallet information, and executes the transaction on the Polygon network."}),"\n",(0,i.jsx)(n.h2,{id:"endpoint",children:"Endpoint"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)("span",{class:"api-method api-method--post",children:"POST"})," ",(0,i.jsx)(n.code,{children:"/api/wallet/transfer"})]}),"\n",(0,i.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,i.jsx)(n.p,{children:"This endpoint requires authentication. Ensure that the user is logged in and has a valid session."}),"\n",(0,i.jsx)(n.h2,{id:"request-body",children:"Request Body"}),"\n",(0,i.jsx)("div",{class:"custom-table",children:(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"toAddress"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"The recipient's wallet address"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"amount"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"The amount of MATIC to transfer"})]})]})]})}),"\n",(0,i.jsx)(n.h2,{id:"response",children:"Response"}),"\n",(0,i.jsx)(n.p,{children:"The API returns a JSON object with the following structure:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"{\n  txHash: string;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Where ",(0,i.jsx)(n.code,{children:"txHash"})," is the transaction hash of the completed transfer."]}),"\n",(0,i.jsxs)(n.admonition,{title:"Usage Example",type:"tip",children:[(0,i.jsx)(n.p,{children:"Transfer 1 MATIC to another address:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const response = await fetch('/api/wallet/transfer', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify({\n    toAddress: '0x742d35Cc6634C0532925a3b844Bc454e4438f44e',\n    amount: '1',\n  }),\n});\nconst data = await response.json();\nconsole.log('Transaction hash:', data.txHash);\n"})})]}),"\n",(0,i.jsx)(n.h2,{id:"error-responses",children:"Error Responses"}),"\n",(0,i.jsx)(n.admonition,{title:"Usage Notes",type:"note",children:(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.code,{children:"amount"})," should be specified in MATIC, not in Wei. The API will convert it to Wei before sending the transaction."]}),"\n",(0,i.jsx)(n.li,{children:"Ensure that the user has sufficient balance to cover both the transfer amount and the gas fees."}),"\n",(0,i.jsx)(n.li,{children:"The API uses the user's encrypted private key stored in the database to sign the transaction."}),"\n",(0,i.jsx)(n.li,{children:"The transaction is sent to the Polygon network using the RPC URL specified in the environment variables."}),"\n"]})}),"\n",(0,i.jsx)(n.admonition,{title:"Best Practices",type:"info",children:(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Always validate the ",(0,i.jsx)(n.code,{children:"toAddress"})," on the client-side to ensure it's a valid Ethereum address."]}),"\n",(0,i.jsx)(n.li,{children:"Implement a confirmation step in your UI before sending the transaction to prevent accidental transfers."}),"\n",(0,i.jsx)(n.li,{children:"Display a loading indicator while waiting for the transaction to be mined, as it may take several seconds."}),"\n",(0,i.jsx)(n.li,{children:"Store the returned transaction hash and use it to check the transaction status or provide a link to a block explorer."}),"\n"]})}),"\n",(0,i.jsx)(n.admonition,{title:"Limitations",type:"caution",children:(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"This API currently only supports transfers on the Polygon network."}),"\n",(0,i.jsx)(n.li,{children:"The maximum amount that can be transferred is limited by the user's balance and the network's transaction size limits."}),"\n",(0,i.jsx)(n.li,{children:"Gas fees are automatically calculated and deducted from the user's balance."}),"\n"]})}),"\n",(0,i.jsx)(n.admonition,{title:"Security Considerations",type:"warning",children:(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Never expose the user's private key in logs, error messages, or client-side code."}),"\n",(0,i.jsx)(n.li,{children:"Implement rate limiting to prevent abuse of the API."}),"\n",(0,i.jsx)(n.li,{children:"Consider implementing additional security measures such as 2FA or email confirmations for large transfers."}),"\n"]})}),"\n",(0,i.jsx)(n.p,{children:"Stay tuned for updates and feel free to provide feedback for improvements!"})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var s=t(6540);const i={},r=s.createContext(i);function a(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);