"use strict";(self.webpackChunkring_docs=self.webpackChunkring_docs||[]).push([[3013],{36105:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"libraries/firebase-fcm-service","title":"Firebase Service Documentation","description":"Overview","source":"@site/docs/libraries/firebase-fcm-service.md","sourceDirName":"libraries","slug":"/libraries/firebase-fcm-service","permalink":"/ring/docs/libraries/firebase-fcm-service","draft":false,"unlisted":false,"editUrl":"https://github.com/connectplatform/ring/ring-docs/tree/main/docs/libraries/firebase-fcm-service.md","tags":[],"version":"current","lastUpdatedAt":1750255417000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Firebase Service Library","permalink":"/ring/docs/libraries/firebase-service"},"next":{"title":"FIRESTORE REFERENCE","permalink":"/ring/docs/libraries/FIRESTORE_SETUP"}}');var s=n(74848),t=n(28453);const a={},l="Firebase Service Documentation",c={},o=[{value:"Overview",id:"overview",level:2},{value:"Services",id:"services",level:2},{value:"Authentication",id:"authentication",level:3},{value:"Firestore Database",id:"firestore-database",level:3},{value:"Storage",id:"storage",level:3},{value:"Cloud Messaging (FCM)",id:"cloud-messaging-fcm",level:3},{value:"Usage",id:"usage",level:2},{value:"Authentication",id:"authentication-1",level:3},{value:"Firestore",id:"firestore",level:3},{value:"Storage",id:"storage-1",level:3},{value:"Cloud Messaging",id:"cloud-messaging",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Security",id:"security",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"Testing",id:"testing",level:2},{value:"Contributing",id:"contributing",level:2}];function d(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"firebase-service-documentation",children:"Firebase Service Documentation"})}),"\n",(0,s.jsx)(i.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(i.p,{children:"The Firebase service provides a comprehensive set of utilities for interacting with Firebase services in the Ring platform. It includes authentication, Firestore database operations, storage management, and real-time notifications."}),"\n",(0,s.jsx)(i.h2,{id:"services",children:"Services"}),"\n",(0,s.jsx)(i.h3,{id:"authentication",children:"Authentication"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"User authentication with email/password"}),"\n",(0,s.jsx)(i.li,{children:"Social authentication (Google, GitHub)"}),"\n",(0,s.jsx)(i.li,{children:"Session management"}),"\n",(0,s.jsx)(i.li,{children:"Role-based access control"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"firestore-database",children:"Firestore Database"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Real-time data synchronization"}),"\n",(0,s.jsx)(i.li,{children:"CRUD operations for entities and opportunities"}),"\n",(0,s.jsx)(i.li,{children:"Query optimization"}),"\n",(0,s.jsx)(i.li,{children:"Data validation and security rules"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"storage",children:"Storage"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"File upload and management"}),"\n",(0,s.jsx)(i.li,{children:"Image optimization"}),"\n",(0,s.jsx)(i.li,{children:"Access control"}),"\n",(0,s.jsx)(i.li,{children:"CDN integration"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"cloud-messaging-fcm",children:"Cloud Messaging (FCM)"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Real-time push notifications"}),"\n",(0,s.jsx)(i.li,{children:"Multi-device support"}),"\n",(0,s.jsx)(i.li,{children:"Background message handling"}),"\n",(0,s.jsx)(i.li,{children:"Notification delivery tracking"}),"\n",(0,s.jsx)(i.li,{children:"Token management"}),"\n",(0,s.jsxs)(i.li,{children:["Custom notification types:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Chat messages"}),"\n",(0,s.jsx)(i.li,{children:"Opportunity updates"}),"\n",(0,s.jsx)(i.li,{children:"News articles"}),"\n",(0,s.jsx)(i.li,{children:"Entity notifications"}),"\n",(0,s.jsx)(i.li,{children:"System announcements"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(i.h3,{id:"authentication-1",children:"Authentication"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-typescript",children:"import { auth } from '@/services/firebase';\n\n// Sign in with email/password\nawait auth.signInWithEmailAndPassword(email, password);\n\n// Sign in with Google\nawait auth.signInWithGoogle();\n"})}),"\n",(0,s.jsx)(i.h3,{id:"firestore",children:"Firestore"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-typescript",children:"import { db } from '@/services/firebase';\n\n// Get document\nconst doc = await db.collection('entities').doc(id).get();\n\n// Query collection\nconst query = await db.collection('opportunities')\n  .where('status', '==', 'active')\n  .get();\n"})}),"\n",(0,s.jsx)(i.h3,{id:"storage-1",children:"Storage"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-typescript",children:"import { storage } from '@/services/firebase';\n\n// Upload file\nconst ref = storage.ref(`images/${filename}`);\nawait ref.put(file);\n\n// Get download URL\nconst url = await ref.getDownloadURL();\n"})}),"\n",(0,s.jsx)(i.h3,{id:"cloud-messaging",children:"Cloud Messaging"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-typescript",children:"import { fcm } from '@/services/firebase';\n\n// Register device token\nawait fcm.registerToken(token);\n\n// Send notification\nawait fcm.sendNotification({\n  title: 'New Message',\n  body: 'You have a new message',\n  data: {\n    type: 'chat',\n    chatId: '123'\n  }\n});\n"})}),"\n",(0,s.jsx)(i.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsx)(i.p,{children:"The Firebase service is configured through environment variables:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-env",children:"NEXT_PUBLIC_FIREBASE_API_KEY=\nNEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=\nNEXT_PUBLIC_FIREBASE_PROJECT_ID=\nNEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=\nNEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=\nNEXT_PUBLIC_FIREBASE_APP_ID=\nNEXT_PUBLIC_FIREBASE_MEASUREMENT_ID=\n"})}),"\n",(0,s.jsx)(i.h2,{id:"security",children:"Security"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"All Firebase services are protected by security rules"}),"\n",(0,s.jsx)(i.li,{children:"Authentication is required for sensitive operations"}),"\n",(0,s.jsx)(i.li,{children:"Data validation is performed on both client and server"}),"\n",(0,s.jsx)(i.li,{children:"Rate limiting is implemented for API calls"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,s.jsx)(i.p,{children:"The Firebase service includes comprehensive error handling:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-typescript",children:"try {\n  await fcm.sendNotification(/* ... */);\n} catch (error) {\n  if (error instanceof FirebaseError) {\n    // Handle Firebase-specific errors\n    console.error('Firebase error:', error.code, error.message);\n  } else {\n    // Handle other errors\n    console.error('Unexpected error:', error);\n  }\n}\n"})}),"\n",(0,s.jsx)(i.h2,{id:"testing",children:"Testing"}),"\n",(0,s.jsx)(i.p,{children:"The Firebase service includes test utilities:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-typescript",children:"import { testUtils } from '@/services/firebase';\n\n// Mock Firebase services\ntestUtils.mockFirebase();\n\n// Test FCM functionality\nawait testUtils.testFCMNotification();\n"})}),"\n",(0,s.jsx)(i.h2,{id:"contributing",children:"Contributing"}),"\n",(0,s.jsx)(i.p,{children:"When adding new Firebase features:"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"Update this documentation"}),"\n",(0,s.jsx)(i.li,{children:"Add appropriate TypeScript types"}),"\n",(0,s.jsx)(i.li,{children:"Include error handling"}),"\n",(0,s.jsx)(i.li,{children:"Add test coverage"}),"\n",(0,s.jsx)(i.li,{children:"Update security rules"}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,i,n)=>{n.d(i,{R:()=>a,x:()=>l});var r=n(96540);const s={},t=r.createContext(s);function a(e){const i=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(t.Provider,{value:i},e.children)}}}]);