"use strict";(self.webpackChunkring_docs=self.webpackChunkring_docs||[]).push([[5119],{1615:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"prompts/aithjs5-wisdoms","title":"aithjs5-wisdoms","description":"","source":"@site/docs/prompts/aithjs5-wisdoms.md","sourceDirName":"prompts","slug":"/prompts/aithjs5-wisdoms","permalink":"/ring/uk/docs/prompts/aithjs5-wisdoms","draft":false,"unlisted":false,"editUrl":"https://github.com/connectplatform/ring/ring-docs/tree/main/docs/prompts/aithjs5-wisdoms.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Utils","permalink":"/ring/uk/docs/libraries/utils"},"next":{"title":"Service Layer","permalink":"/ring/uk/docs/services/opportunities"}}');var r=n(4848),i=n(8453);const o={},s=void 0,c={},d=[];function u(e){const t={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'{"category": "Auth.js v5 Features", "feature": "App Router-First Support", "description": "NextAuth.js v5 aligns with Next.js App Router by default but continues supporting Pages Router for gradual migration."}\n{"category": "Auth.js v5 Features", "feature": "OAuth on Preview Deployments", "description": "Auth.js v5 introduces OAuth support for preview deployments, enabling seamless authentication in staging environments."}\n{"category": "Auth.js v5 Features", "feature": "Universal auth()", "description": "Replaced `getSession`, `getServerSession`, `getToken` with the universal `auth()` function for simplified authentication."}\n{"category": "Breaking Change", "feature": "Stricter OAuth/OIDC Compliance", "description": "Auth.js v5 enforces stricter OAuth and OIDC compliance, possibly affecting existing providers that used less strict implementations."}\n{"category": "Breaking Change", "feature": "OAuth 1.0 Deprecated", "description": "OAuth 1.0 support is removed in Auth.js v5; all providers must now support OAuth 2.0 or OIDC specifications."}\n{"category": "Breaking Change", "feature": "Minimum Next.js Version", "description": "Auth.js v5 requires Next.js 14.0 or higher, aligning with new architectural enhancements."}\n{"category": "Configuration", "feature": "New Root-Level Configuration", "description": "Centralizes NextAuth configuration in a root-level `auth.ts` file, simplifying configuration across components and middleware."}\n{"category": "Configuration", "feature": "Auth Method Functions", "description": "Extract `auth`, `signIn`, `signOut`, and `handlers` directly from a single `auth.ts` configuration file to standardize usage across the app."}\n{"category": "Breaking Config Changes", "feature": "Imports Updated for App Router", "description": "`next-auth/next` is deprecated; use dynamic `handlers` exports from `auth.ts` for App Router routes."}\n{"category": "Middleware Support", "feature": "Edge-Compatible Middleware", "description": "Introduced split Edge-compatible configuration options for App Router middleware and routes."}\n{"category": "Improved Functionality", "feature": "account() Callback", "description": "New account() provider callback allows handling additional user data via the userinfo_endpoint with more flexibility."}\n{"category": "Environment Variables", "feature": "AUTH_ Prefix Auto-Detection", "description": "All environment variables prefixed with AUTH_ are auto-detected in Auth.js v5, simplifying setup for providers like GitHub or Google."}\n{"category": "Environment Variables", "feature": "NEXTAUTH_URL Deprecated", "description": "Host is now detected from request headers; static environment variable NEXTAUTH_URL is no longer necessary in most setups."}\n{"category": "Environment Variables", "feature": "AUTH_SECRET is Critical", "description": "`AUTH_SECRET` remains the only required environment variable, used for signing JSON Web Tokens (JWT) and session cookies."}\n{"category": "Adapters", "feature": "Adapter Scope Updated", "description": "Database adapters moved under the `@auth/*-adapter` scope for improved alignment with core Auth.js packages."}\n{"category": "Adapters", "feature": "Edge-Compatible Adapters", "description": "Split configurations ensure ORM-based adapters (e.g., Prisma) can coexist with Edge-compatible JWT strategies for scalability."}\n{"category": "Migration Tips", "feature": "Simplified Database Migrations", "description": "Fields like `oauth_token` and `oauth_token_secret` in account tables are deprecated and can be safely removed."}\n{"category": "TypeScript", "feature": "Renamed Type Configurations", "description": "`NextAuthOptions` is renamed `NextAuthConfig` in Auth.js v5; updated types are exposed from all framework-specific adapters."}\n{"category": "Edge Compatibility", "feature": "Middleware Lazy Initialization", "description": "Initialized Auth.js dynamically in middleware using shared Edge-compatible configurations."}\n{"category": "Custom Session Strategy", "feature": "JWT Defaults for Edge", "description": "JWT session strategy is now the default for Edge runtime makers using database-unavailable environments."}\n{"category": "Provider Updates", "feature": "userinfo_endpoint Enhancements", "description": "userinfo_endpoint is now leveraged in cases where idToken:false, offering a reliable method to fetch user data."}\n{"category": "API Routes", "feature": "Shortened API Configurations", "description": "API routes (e.g., app/api/auth/[...nextauth]/route.ts) are trimmed to just dynamic `GET` & `POST` handler exports from `auth.ts`."}\n{"category": "Simplified Usage", "feature": "Centralized Config in auth.ts", "description": "auth.ts simplifies configuration by consolidating provider definitions, session strategies, and exported methods."}\n{"category": "Breaking Change", "feature": "Transition Away from next-auth/middleware", "description": "Deprecated `next-auth/middleware` in favor of Edge-compatible `handlers` and lazy-initialized configurations."}\n{"category": "Database Migrations", "feature": "Remove OAuth 1.0 Fields", "description": "Optional database fields like GitHub `refresh_token_expires_in` are deprecated in v5 migrations."}\n{"category": "Breaking Change", "feature": "ID Token Handling Update", "description": "Setting `idToken: false` no longer disables ID tokens entirely; signals userinfo_endpoint retrieval as needed."}\n{"category": "Auth.js Simplification", "feature": "Unified auth() Function", "description": "auth() consolidates all server-side and client-side session APIs into a single, standardized call for simplicity."}\n{"category": "Upgrade Process", "feature": "Codemod for Next.js 15", "description": "Upgrade Next.js 14 to 15 using `npx @next/codemod@canary upgrade latest` for a seamless version migration."}\n{"category": "Manual Installation", "feature": "Installing Next.js 15 & React 19", "description": "Use `npm install next@latest react@rc react-dom@rc eslint-config-next@latest` to manually upgrade to Next.js 15 and React 19 RC."}\n{"category": "RC Peer Dependencies", "feature": "React Peer Dependency Warning", "description": "To resolve peer dependency issues with React 19 RC, use `--force` or `--legacy-peer-deps` temporarily."}\n{"category": "TypeScript", "feature": "React Types Override", "description": "React 19 RC users need to override TypeScript\'s React type definitions temporarily. Refer to the React 19 RC guide for specifics."}\n{"category": "React 19", "feature": "useActionState Replaces useFormState", "description": "`useActionState` replaces `useFormState`, adding properties like pending state access. `useFormState` is deprecated."}\n{"category": "React 19", "feature": "useFormStatus Enhancements", "description": "`useFormStatus` now includes keys like `data`, `method`, and `action`; only `pending` is supported outside React 19."}\n{"category": "Breaking Change", "feature": "Async APIs Transition", "description": "Dynamic methods like `cookies`, `headers`, `draftMode`, and `params` have transitioned from synchronous to asynchronous APIs in Next.js 15."}\n{"category": "Migration Tools", "feature": "Codemod for Async APIs", "description": "Use `npx @next/codemod@canary next-async-request-api .` to automate migrating to new async request APIs."}\n{"category": "Cookies API", "feature": "Cookies Async Usage", "description": "Use `await cookies()` to fetch cookies in async format; synchronous access will log warning and be removed later."}\n{"category": "Headers API", "feature": "Headers Async Usage", "description": "`await headers()` replaces synchronous `headers()` method to fetch request headers for better runtime performance."}\n{"category": "Draft Mode API", "feature": "Draft Mode Async Access", "description": "Draft Mode configurations are accessible asynchronously via `await draftMode()`. Temporary sync versions log warnings."}\n{"category": "Params API", "feature": "Async Params in Layouts", "description": "Routes like `layout.js` and `page.js` now require `params` to be accessed via `await` for improved runtime rendering flexibility."}\n{"category": "Search Params", "feature": "Async Search Params", "description": "`searchParams` in `page.js` is now asynchronous and must use `await` for fetching values dynamically."}\n{"category": "Synchronous Access", "feature": "Temporary Synchronous API Warning", "description": "Synchronous headers, cookies, and params methods remain supported temporarily but log warnings in development."}\n{"category": "Route Handlers", "feature": "Params API in Route Handlers", "description": "Accessing route parameters (e.g., segment paths) in functions like GET requires asynchronous access via `await`."}\n{"category": "Runtime Configuration", "feature": "experimental-edge Removed", "description": "Next.js 15 deprecates `experimental-edge`; use `runtime: edge` in configurations for runtime optimizations."}\n{"category": "Fetch Defaults", "feature": "Fetch Requests Not Cached", "description": "Default behavior for `fetch` requests in Next.js 15 is no-cache; caching must be explicitly configured via options."}\n{"category": "Caching Control", "feature": "Force Fetch Cache", "description": "Apply `cache: \'force-cache\'` in fetch requests to cache specific API responses."}\n{"category": "Layout Caching", "feature": "Default Fetch Cache in Layouts", "description": "Set caching behavior across layouts/pages with `fetchCache = \'default-cache\'` in the segment config."}\n{"category": "Route Handlers", "feature": "Dynamic Caching for GET", "description": "`dynamic = \'force-static\'` allows caching GET handler results explicitly in route APIs."}\n{"category": "Client Cache", "feature": "Client Router Cache Opt-Out", "description": "Client-side navigation no longer uses cached page segments by default, improving consistency with backend data."}\n{"category": "Client Cache", "feature": "Stale Time Configuration", "description": "Configure stale times for client-side page cache with `staleTimes` in `next.config.js` for `dynamic` and `static` resources."}\n{"category": "Font Handling", "feature": "next/font Migration", "description": "Replace `@next/font/google` imports with `next/font/google` for automatic font management in Next.js 15 projects."}\n{"category": "Bundling", "feature": "Renaming Page Dependencies Configuration", "description": "`experimental.bundlePagesExternals` renamed to `bundlePagesRouterDependencies` for stability in Next.js 15."}\n{"category": "Server Bundles", "feature": "Stable serverExternalPackages", "description": "`experimental.serverComponentsExternalPackages` renamed to `serverExternalPackages` for consistent external package handling."}\n{"category": "Speed Insights", "feature": "Auto Instrumentation Removed", "description": "Auto instrumentation for Speed Insights is deprecated; use Vercel\'s Speed Insights package for this functionality."}\n{"category": "Geolocation", "feature": "Geolocation on NextRequest Removed", "description": "NextRequest no longer includes `geo` and `ip` properties; use `@vercel/functions` geolocation utilities instead."}\n{"category": "Edge Middleware", "feature": "Geolocation Middleware", "description": "`@vercel/functions` provides `geolocation` and `ipAddress` functions to replace geo/ip properties of NextRequest."}\n{"category": "Performance", "feature": "Static Generation Concurrency", "description": "`staticGenerationMaxConcurrency` determines how many static pages are processed per worker for better resource usage."}\n{"category": "Performance", "feature": "Retry Static Page Builds", "description": "`staticGenerationRetryCount` enables retrying failed pages during static builds, improving robustness."}\n{"category": "SSR Control", "feature": "SSG Worker Threshold", "description": "`staticGenerationMinPagesPerWorker` configures the minimum number of pages assigned per export worker in static builds."}\n{"category": "React Compiler", "feature": "Manual Memoization Reductions", "description": "Experimental React Compiler reduces manual use of `useMemo` and `useCallback` for better dev ergonomics."}\n{"category": "SSR", "feature": "Dynamic fetch Change", "description": "Default dynamic fetch requests now use `no-store`, ensuring fresh data on every request unless overridden."}\n{"category": "Image Optimization", "feature": "Content-Disposition Change", "description": "Default Content-Disposition header in `next/image` now set to \'attachment\' to follow updated standards."}\n{"category": "Image Optimization", "feature": "Sharp Auto Integration", "description": "Next.js 15 auto-installs `sharp` for image handling in `next/image` when starting in standalone mode."}\n{"category": "Improved Developer Feedback", "feature": "Detailed Error Messages", "description": "Enhanced error overlays show actionable debugging suggestions for hydration and runtime issues."}\n{"category": "Parallel Routes", "feature": "Unmatched Catch-All Params", "description": "Parallel routes now support unmatched catch-all segments with appropriate param propagation."}\n{"category": "Internal APIs", "feature": "Cache Control Handler Path", "description": "Use `NEXT_CACHE_HANDLER_PATH` env variable to configure the cache handler path for more flexibility."}\n{"category": "Error Handling", "feature": "onRequestError Hook", "description": "Unified error reporting across Routes, Server Actions, and Middleware using `onRequestError` hooks."}\n{"category": "Experimental Enhancements", "feature": "unstable_after API for Post-Response Tasks", "description": "`unstable_after` API supports executing secondary tasks after sending the primary response."}\n'})})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>s});var a=n(6540);const r={},i=a.createContext(r);function o(e){const t=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),a.createElement(i.Provider,{value:t},e.children)}}}]);