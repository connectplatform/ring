---
title: Performance
description: Performance documentation for Ring Platform
---

# Performance Optimization

Profiling and optimization strategies for Ring Platform applications.

## ‚ö° React 19 Performance Patterns

### Server Components Optimization
// Fetch data at the server component level

<Code language="typescript" title="TypeScript">
{`export default async function EntitiesPage() {
  // This runs on the server, reducing client-side work
  const entities = await getEntities()

  return (
    <div>
      <EntitiesList entities={entities} />
      <ClientComponent />
    </div>
  )
}`}
</Code>

### useOptimistic Hook
<Code language="typescript" title="'use client'">
{`import { useOptimistic } from 'react'

export function EntityForm({ entities, addEntity }) {
  const [optimisticEntities, addOptimisticEntity] = useOptimistic(
    entities,
    (state, newEntity) => [...state, { ...newEntity, id: 'temp-' + Date.now() }]
  )

  async function handleSubmit(formData) {
    addOptimisticEntity(formData)
    await addEntity(formData)
  }

  return (
    <form action={handleSubmit}>
      {/* Form fields */}
    </form>
  )
}`}
</Code>

## üöÄ Next.js 15 Optimizations

### Static Generation
// Generate static pages at build time

<Code language="typescript" title="TypeScript">
{`export async function generateStaticParams() {
  const entities = await getPublicEntities()
  
  return entities.map((entity) => ({
    id: entity.id
  }))
}

export default async function EntityPage({ params }) {
  const entity = await getEntity(params.id)
  return <EntityDetails entity={entity} />
}`}
</Code>

### Edge Runtime
// Use Edge Runtime for faster cold starts

<Code language="typescript" title="TypeScript">
{`export const runtime = 'edge'

export async function GET(request: Request) {
  const { searchParams } = new URL(request.url)
  const query = searchParams.get('q')
  
  // Fast API response from edge
  return Response.json({ results: await searchEntities(query) })
}`}
</Code>

## üì¶ Bundle Optimization

### Code Splitting
// Dynamic imports for code splitting

<Code language="typescript" title="TypeScript">
{`import dynamic from 'next/dynamic'

const HeavyComponent = dynamic(() => import('./HeavyComponent'), {
  loading: () => <p>Loading...</p>,
  ssr: false // Skip SSR for client-only components
})

export default function Page() {
  return (
    <div>
      <h1>Page Content</h1>
      <HeavyComponent />
    </div>
  )
}`}
</Code>

### Tree Shaking
// Import only what you need

<Code language="typescript" title="TypeScript">
{`import { debounce } from 'lodash/debounce' // ‚úÖ Good
import _ from 'lodash' // ‚ùå Imports entire library

// Use ES modules for better tree shaking
import { Button } from '@/components/ui' // ‚úÖ Tree-shakeable`}
</Code>

## üéØ Performance Monitoring

### –ö–æ–º–ø–ª–µ–∫—Å–Ω–µ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è Web Vitals
<Code language="typescript" title="TypeScript">
{`// –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è WebVitalsCollector –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É
import { startWebVitalsCollection, setWebVitalsUserId } from '@/lib/web-vitals'

// –í app/layout.tsx –∞–±–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ
useEffect(() => {
  // –ü–æ—á–∞—Ç–∏ –∑–±—ñ—Ä –º–µ—Ç—Ä–∏–∫
  startWebVitalsCollection()

  // –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–∞—Ü—ñ—ó
  if (session?.user?.id) {
    setWebVitalsUserId(session.user.id)
  }
}, [session?.user?.id])

// –û—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ—Ç–æ—á–Ω–∏–π performance score
const performanceScore = getWebVitalsScore() // 0-100`}
</Code>

### Web Vitals API –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—é –∑–≤—ñ—Ç–Ω—ñ—Å—Ç—é
// lib/web-vitals.tsx - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∑–±—ñ—Ä Core Web Vitals

<Code language="typescript" title="TypeScript">
{`export const PERFORMANCE_THRESHOLDS = {
  LCP: { good: 2500, poor: 4000 },    // Largest Contentful Paint
  FID: { good: 100, poor: 300 },     // First Input Delay
  CLS: { good: 0.1, poor: 0.25 },    // Cumulative Layout Shift
  FCP: { good: 1800, poor: 3000 },   // First Contentful Paint
  TTFB: { good: 800, poor: 1800 },   // Time to First Byte
  INP: { good: 200, poor: 500 },     // Interaction to Next Paint
}

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∑–≤—ñ—Ç –Ω–∞ /api/analytics/web-vitals
const collector = getWebVitalsCollector()
await collector.startCollection() // –ó–±–∏—Ä–∞—î CLS, FCP, LCP, TTFB, INP`}
</Code>

### Performance Profiling
// Use React Profiler for component performance

<Code language="typescript" title="TypeScript">
{`import { Profiler } from 'react'

function onRender(id, phase, actualDuration, baseDuration, startTime, commitTime) {
  // Log or send to analytics
  console.log('Performance:', {
    component: id,
    phase,
    duration: actualDuration
  })
}

export default function App() {
  return (
    <Profiler id="App" onRender={onRender}>
      <MainContent />
    </Profiler>
  )
}`}
</Code>

## üóÑÔ∏è Database Optimization

### PostgreSQL Query Optimization –∑ Database Abstraction Layer
<Code language="typescript" title="TypeScript">
{`// –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è db.command() –¥–ª—è –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó –∑–∞–ø–∏—Ç—ñ–≤
import { getDatabaseService } from '@/lib/database'

const dbService = getDatabaseService()

// –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π –∑–∞–ø–∏—Ç –∑ —Ñ—ñ–ª—å—Ç—Ä–∞–º–∏ —Ç–∞ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—î—é
const opportunitiesResult = await dbService.query({
  collection: 'opportunities',
  filters: [
    { field: 'type', operator: '==', value: 'request' },
    { field: 'status', operator: '==', value: 'active' }
  ],
  orderBy: [{ field: 'created_at', direction: 'desc' }],
  limit: 20,
  offset: 0
})`}
</Code>

### React 19 Cache –¥–ª—è –¥–µ–¥—É–ø–ª—ñ–∫–∞—Ü—ñ—ó –∑–∞–ø–∏—Ç—ñ–≤
// –ö–µ—à—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤ vendor profiles

<Code language="typescript" title="TypeScript">
{`import { cache } from 'react'

export const getVendorByUserId = cache(async (userId: string): Promise<VendorLookupResult> => {
  const dbService = getDatabaseService()

  const vendorResult = await dbService.query({
    collection: 'vendor_profiles',
    filters: [
      { field: 'user_id', operator: '==', value: userId }
    ]
  })

  return vendorResult.success && vendorResult.data?.length > 0
    ? { found: true, vendorProfile: vendorResult.data[0] }
    : await createPendingVendorProfile(userId)
})

// –ö—ñ–ª—å–∫–∞ –≤–∏–∫–ª–∏–∫—ñ–≤ getVendorByUserId(userId) –±—É–¥—É—Ç—å –¥–µ–¥—É–ø–ª—ñ–∫–æ–≤–∞–Ω—ñ`}
</Code>

## üñºÔ∏è Image Optimization

### Next.js Image Component
import Image from 'next/image'

<Code language="typescript" title="TypeScript">
{`export function EntityAvatar({ entity }) {
  return (
    <Image
      src={entity.avatar}
      alt={entity.name}
      width={64}
      height={64}
      priority={entity.featured} // Load important images first
      placeholder="blur"
      blurDataURL="data:image/jpeg;base64,..."
    />
  )
}`}
</Code>

## üìä Performance Metrics

### –¶—ñ–ª—å–æ–≤—ñ –º–µ—Ç—Ä–∏–∫–∏ Ring Platform
- **Largest Contentful Paint (LCP)**: < 2.5s
- **First Input Delay (FID)**: < 100ms (INP < 200ms)
- **Cumulative Layout Shift (CLS)**: < 0.1
- **First Contentful Paint (FCP)**: < 1.8s
- **Time to First Byte (TTFB)**: < 800ms
- **Performance Score**: > 90 (Lighthouse)

### Production Monitoring

#### Kubernetes Pod Metrics
–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å—ñ–≤ pod'—ñ–≤ Prometheus –º–µ—Ç—Ä–∏–∫–∏ Grafana dashboards

<Code language="bash" title="terminal">
{`kubectl top pods -n ring-platform-org

kubectl port-forward svc/prometheus 9090:9090 -n monitoring

kubectl port-forward svc/grafana 3000:3000 -n monitoring`}
</Code>

#### Database Performance
<Code language="sql" title="-- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ PostgreSQL –º–µ—Ç—Ä–∏–∫">
{`SELECT * FROM pg_stat_activity;
SELECT * FROM pg_stat_user_tables;

-- Connection pooling –º–µ—Ç—Ä–∏–∫–∏
SHOW POOL_NODES;  -- PgBouncer`}
</Code>

### –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ä–æ–∑—Ä–æ–±–∫–∏

#### Lighthouse CI Integration
.github/workflows/ci.yml

<Code language="yaml" title="configuration">
{`- name: Lighthouse CI
  uses: treosh/lighthouse-ci-action@v10
  with:
    urls: https://ring-platform.org
    configPath: .lighthouserc.json`}
</Code>

#### Bundle Analysis
–ê–Ω–∞–ª—ñ–∑ —Ä–æ–∑–º—ñ—Ä—É –±–∞–Ω–¥–ª—É –ø—ñ—Å–ª—è –∑–±—ñ—Ä–∫–∏ Webpack Bundle Analyzer

<Code language="bash" title="terminal">
{`npm run build
npm run analyze

npx webpack-bundle-analyzer .next/static/chunks/`}
</Code>

#### React DevTools Profiler
// –í development —Ä–µ–∂–∏–º—ñ

<Code language="typescript" title="TypeScript">
{`if (process.env.NODE_ENV === 'development') {
  // React DevTools Profiler –∞–∫—Ç–∏–≤–Ω–∏–π
  // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Performance tab –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É
}`}
</Code>

### –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –¥–ª—è Kubernetes

#### Edge Runtime Optimization
<Code language="typescript" title="TypeScript">
{`// app/api/search/route.ts - Edge —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –ø–æ—à—É–∫—É
export const runtime = 'edge'

export async function GET(request: Request) {
  const { searchParams } = new URL(request.url)
  const query = searchParams.get('q')

  // –®–≤–∏–¥–∫–∏–π –ø–æ—à—É–∫ –±–µ–∑ cold starts
  return Response.json(await searchOpportunities(query))
}`}
</Code>

#### Connection Pooling
// lib/database.ts - PgBouncer connection pooling

<Code language="typescript" title="TypeScript">
{`export const dbConfig = {
  host: process.env.DB_HOST,
  port: 6432, // PgBouncer port
  database: process.env.DB_NAME,
  user: process.env.DB_USER,
  password: process.env.DB_PASSWORD,
  max: 20,        // –ú–∞–∫—Å–∏–º—É–º 20 –∑'—î–¥–Ω–∞–Ω—å
  idleTimeoutMillis: 30000,
  connectionTimeoutMillis: 2000,
}`}
</Code>

---

**üöÄ Production-Ready Performance**

Ring Platform –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Å—É—á–∞—Å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –≤–∏—Å–æ–∫–æ—ó –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ: Next.js 15 App Router, React 19 –∑ Server Components, PostgreSQL –∑ connection pooling, Redis –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è, —Ç–∞ Kubernetes –¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—ó.
