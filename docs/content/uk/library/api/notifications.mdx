---
title: API –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
description: –ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API —Å–∏—Å—Ç–µ–º–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏ Ring –∑ –¥–æ—Å—Ç–∞–≤–∫–æ—é —É —Ä–µ–∂–∏–º—ñ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É, push-—Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è–º–∏ FCM —Ç–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏–º —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è–º
last_modified: "2025-10-16"
---

import { Callout } from '@/components/docs/callout'
import { Steps, Step } from '@/components/docs/steps'

# API –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ Ring –Ω–∞–¥–∞—î –∫–æ–º–ø–ª–µ–∫—Å–Ω—É —Å–∏—Å—Ç–µ–º—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —ñ–∑ **9 REST –∫—ñ–Ω—Ü–µ–≤–∏–º–∏ —Ç–æ—á–∫–∞–º–∏** —Ç–∞ –¥–æ—Å—Ç–∞–≤–∫–æ—é WebSocket —É —Ä–µ–∂–∏–º—ñ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É. –°–∏—Å—Ç–µ–º–∞ –ø—ñ–¥—Ç—Ä–∏–º—É—î push-—Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è FCM, –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, –º–∞—Å–æ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó —Ç–∞ –¥–µ—Ç–∞–ª—å–Ω—É –∞–Ω–∞–ª—ñ—Ç–∏–∫—É.

<Callout type="info" title="üî• –§—É–Ω–∫—Ü—ñ—ó —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É">
–ü–æ–±—É–¥–æ–≤–∞–Ω–æ –Ω–∞ **Tunnel Transport** –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó, —â–æ –ø—ñ–¥—Ç—Ä–∏–º—É—î WebSocket, SSE —Ç–∞ long-polling —Ñ–æ–ª–±–µ–∫–∏ –¥–ª—è —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–æ—ó —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ.
</Callout>

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º–∏

### –ü–æ—Ç—ñ–∫ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

```
–ü–æ–¥—ñ—è —Ç—Ä–∏–≥–µ—Ä ‚Üí –°–µ—Ä–≤—ñ—Å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å ‚Üí –î–æ—Å—Ç–∞–≤–∫–∞ —É —Ä–µ–∂–∏–º—ñ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É ‚Üí –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ ‚Üí Push FCM ‚Üí –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞
```

### –°—Ç—Ä–∞—Ç–µ–≥—ñ—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è

- **–ü–µ—Ä–≤–∏–Ω–Ω–µ**: PostgreSQL –∑ –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–º–∏ –∑–∞–ø–∏—Ç–∞–º–∏
- **–ö–µ—à—É–≤–∞–Ω–Ω—è**: Redis –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Å–µ—Å—ñ–π (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)
- **–†–µ–∞–ª—å–Ω–∏–π —á–∞—Å**: WebSocket –∑'—î–¥–Ω–∞–Ω–Ω—è —á–µ—Ä–µ–∑ Tunnel Transport
- **Push**: Firebase Cloud Messaging (FCM) —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è

## üìã –î–æ–≤—ñ–¥–∫–∞ –∫—ñ–Ω—Ü–µ–≤–∏—Ö —Ç–æ—á–æ–∫ API

### `GET /api/notifications`

–°–ø–∏—Å–æ–∫ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —ñ–∑ —Ä–æ–∑—à–∏—Ä–µ–Ω–∏–º —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞–Ω–Ω—è–º —Ç–∞ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—î—é.

#### –ü–∞—Ä–∞–º–µ—Ç—Ä–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±–æ–≤'—è–∑–∫–æ–≤–∏–π | –û–ø–∏—Å |
|-----------|-----|--------------|------|
| `page` | number | –ù—ñ | –ù–æ–º–µ—Ä —Å—Ç–æ—Ä—ñ–Ω–∫–∏ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: 1) |
| `limit` | number | –ù—ñ | –ï–ª–µ–º–µ–Ω—Ç—ñ–≤ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: 20, –º–∞–∫—Å: 100) |
| `status` | string | –ù—ñ | –§—ñ–ª—å—Ç—Ä –∑–∞ —Å—Ç–∞—Ç—É—Å–æ–º: `unread`, `read`, `archived` |
| `type` | string | –ù—ñ | –§—ñ–ª—å—Ç—Ä –∑–∞ —Ç–∏–ø–æ–º: `OPPORTUNITY`, `MESSAGE`, `ENTITY`, `SYSTEM`, `WALLET` |
| `priority` | string | –ù—ñ | –§—ñ–ª—å—Ç—Ä –∑–∞ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–æ–º: `low`, `normal`, `high`, `urgent` |
| `before` | string | –ù—ñ | ISO –¥–∞—Ç–∞ - –ø–æ–∫–∞–∑–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–æ —Ü—ñ—î—ó –¥–∞—Ç–∏ |
| `after` | string | –ù—ñ | ISO –¥–∞—Ç–∞ - –ø–æ–∫–∞–∑–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—ñ—Å–ª—è —Ü—ñ—î—ó –¥–∞—Ç–∏ |

#### –ü—Ä–∏–∫–ª–∞–¥ –∑–∞–ø–∏—Ç—É

<Code language="bash" title="curl -X GET "http://localhost:3000/api/notifications?page=1&limit=10&status=unread&type=OPPORTUNITY" \">
{`-H "Authorization: Bearer your-session-token"`}
</Code>

#### –í—ñ–¥–ø–æ–≤—ñ–¥—å

<Code language="json" title="{">
{`"notifications": [
    {
      "id": "notif_123456",
      "userId": "user_789",
      "type": "OPPORTUNITY",
      "title": "–ù–æ–≤–∞ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–∞",
      "message": "TechCorp —à—É–∫–∞—î –ø–∞—Ä—Ç–Ω–µ—Ä—ñ–≤ –∑ —Ä–æ–∑—Ä–æ–±–∫–∏ AI",
      "data": {
        "opportunityId": "opp_456",
        "entityId": "ent_123",
        "actionUrl": "/opportunities/opp_456"
      },
      "priority": "normal",
      "status": "unread",
      "createdAt": "2025-10-16T10:30:00Z",
      "readAt": null,
      "expiresAt": "2025-11-16T10:30:00Z"
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 10,
    "total": 47,
    "totalPages": 5,
    "hasNext": true,
    "hasPrev": false
  },
  "unreadCount": 23
}`}
</Code>

### `POST /api/notifications`

–°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–µ—Ä–µ–≤–∞–∂–Ω–æ —Å–∏—Å—Ç–µ–º–æ—é/–∞–¥–º—ñ–Ω–æ–º).

#### –¢—ñ–ª–æ –∑–∞–ø–∏—Ç—É

<Code language="json" title="{">
{`"userId": "user_789",
  "type": "SYSTEM",
  "title": "–û–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏",
  "message": "–ó–∞–ø–ª–∞–Ω–æ–≤–∞–Ω–µ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è –∑–∞ 2 –≥–æ–¥–∏–Ω–∏",
  "priority": "high",
  "data": {
    "maintenanceStart": "2025-10-16T14:00:00Z",
    "expectedDuration": "30 —Ö–≤–∏–ª–∏–Ω"
  },
  "expiresAt": "2025-10-16T16:00:00Z"
}`}
</Code>

#### –í—ñ–¥–ø–æ–≤—ñ–¥—å

<Code language="json" title="{">
{`"notification": {
    "id": "notif_123457",
    "userId": "user_789",
    "type": "SYSTEM",
    "title": "–û–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏",
    "message": "–ó–∞–ø–ª–∞–Ω–æ–≤–∞–Ω–µ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è –∑–∞ 2 –≥–æ–¥–∏–Ω–∏",
    "priority": "high",
    "status": "unread",
    "createdAt": "2025-10-16T12:00:00Z",
    "expiresAt": "2025-10-16T16:00:00Z"
  },
  "delivered": true,
  "pushSent": true
}`}
</Code>

### `PUT /api/notifications/{id}/read`

–ü–æ–∑–Ω–∞—á–∏—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —è–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–µ.

#### –ü—Ä–∏–∫–ª–∞–¥ –∑–∞–ø–∏—Ç—É

<Code language="bash" title="curl -X PUT "http://localhost:3000/api/notifications/notif_123456/read" \">
{`-H "Authorization: Bearer your-session-token"`}
</Code>

#### –í—ñ–¥–ø–æ–≤—ñ–¥—å

<Code language="json" title="{">
{`"notification": {
    "id": "notif_123456",
    "status": "read",
    "readAt": "2025-10-16T12:30:00Z"
  },
  "unreadCount": 22
}`}
</Code>

### `PUT /api/notifications/read-all`

–ü–æ–∑–Ω–∞—á–∏—Ç–∏ –≤—Å—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —è–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω—ñ.

#### –ü–∞—Ä–∞–º–µ—Ç—Ä–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±–æ–≤'—è–∑–∫–æ–≤–∏–π | –û–ø–∏—Å |
|-----------|-----|--------------|------|
| `type` | string | –ù—ñ | –ü–æ–∑–Ω–∞—á–∏—Ç–∏ —Ç—ñ–ª—å–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ç–∏–ø —è–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–∏–π |
| `before` | string | –ù—ñ | –ü–æ–∑–Ω–∞—á–∏—Ç–∏ —Ç—ñ–ª—å–∫–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–æ —Ü—ñ—î—ó –¥–∞—Ç–∏ |

#### –ü—Ä–∏–∫–ª–∞–¥ –∑–∞–ø–∏—Ç—É

<Code language="bash" title="curl -X PUT "http://localhost:3000/api/notifications/read-all?type=OPPORTUNITY" \">
{`-H "Authorization: Bearer your-session-token"`}
</Code>

#### –í—ñ–¥–ø–æ–≤—ñ–¥—å

<Code language="json" title="{">
{`"markedCount": 15,
  "unreadCount": 8
}`}
</Code>

### `DELETE /api/notifications/{id}`

–í–∏–¥–∞–ª–∏—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.

#### –ü—Ä–∏–∫–ª–∞–¥ –∑–∞–ø–∏—Ç—É

<Code language="bash" title="curl -X DELETE "http://localhost:3000/api/notifications/notif_123456" \">
{`-H "Authorization: Bearer your-session-token"`}
</Code>

#### –í—ñ–¥–ø–æ–≤—ñ–¥—å

<Code language="json" title="{">
{`"deleted": true,
  "notificationId": "notif_123456"
}`}
</Code>

### `GET /api/notifications/preferences`

–û—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ—Ç–æ—á–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

#### –í—ñ–¥–ø–æ–≤—ñ–¥—å

<Code language="json" title="{">
{`"preferences": {
    "emailNotifications": true,
    "pushNotifications": true,
    "smsNotifications": false,
    "types": {
      "OPPORTUNITY": {
        "enabled": true,
        "email": true,
        "push": true,
        "sms": false
      },
      "MESSAGE": {
        "enabled": true,
        "email": false,
        "push": true,
        "sms": false
      },
      "ENTITY": {
        "enabled": true,
        "email": true,
        "push": false,
        "sms": false
      },
      "SYSTEM": {
        "enabled": true,
        "email": true,
        "push": true,
        "sms": false
      },
      "WALLET": {
        "enabled": true,
        "email": true,
        "push": true,
        "sms": true
      }
    },
    "quietHours": {
      "enabled": false,
      "start": "22:00",
      "end": "08:00",
      "timezone": "UTC"
    },
    "frequency": "immediate"
  }
}`}
</Code>

### `PUT /api/notifications/preferences`

–û–Ω–æ–≤–∏—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

#### –¢—ñ–ª–æ –∑–∞–ø–∏—Ç—É

<Code language="json" title="{">
{`"emailNotifications": true,
  "pushNotifications": false,
  "types": {
    "OPPORTUNITY": {
      "enabled": true,
      "email": true,
      "push": false
    },
    "MESSAGE": {
      "enabled": true,
      "email": false,
      "push": true
    }
  },
  "quietHours": {
    "enabled": true,
    "start": "23:00",
    "end": "07:00"
  }
}`}
</Code>

#### –í—ñ–¥–ø–æ–≤—ñ–¥—å

<Code language="json" title="{">
{`"updated": true,
  "preferences": { /* –æ–Ω–æ–≤–ª–µ–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è */ }
}`}
</Code>

### `POST /api/notifications/fcm/register`

–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏ —Ç–æ–∫–µ–Ω FCM –¥–ª—è push-—Å–ø–æ–≤—ñ—â–µ–Ω—å.

#### –¢—ñ–ª–æ –∑–∞–ø–∏—Ç—É

<Code language="json" title="{">
{`"token": "fcm_token_from_firebase_sdk",
  "deviceType": "web",
  "deviceId": "unique-device-identifier",
  "userAgent": "Mozilla/5.0..."
}`}
</Code>

#### –í—ñ–¥–ø–æ–≤—ñ–¥—å

<Code language="json" title="{">
{`"registered": true,
  "tokenId": "fcm_123456",
  "previousToken": "fcm_123455"
}`}
</Code>

### `POST /api/notifications/bulk`

–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –º–∞—Å–æ–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º (—Ç—ñ–ª—å–∫–∏ –∞–¥–º—ñ–Ω).

#### –¢—ñ–ª–æ –∑–∞–ø–∏—Ç—É

<Code language="json" title="{">
{`"userIds": ["user_123", "user_456", "user_789"],
  "notification": {
    "type": "SYSTEM",
    "title": "–í–∞–∂–ª–∏–≤–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è",
    "message": "–î–æ—Å—Ç—É–ø–Ω—ñ –Ω–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó",
    "priority": "normal",
    "data": {
      "actionUrl": "/updates"
    }
  },
  "sendPush": true,
  "sendEmail": false
}`}
</Code>

#### –í—ñ–¥–ø–æ–≤—ñ–¥—å

<Code language="json" title="{">
{`"sent": true,
  "totalUsers": 3,
  "successful": 3,
  "failed": 0,
  "notificationIds": ["notif_123", "notif_124", "notif_125"]
}`}
</Code>

### `GET /api/notifications/analytics`

–û—Ç—Ä–∏–º–∞—Ç–∏ –∞–Ω–∞–ª—ñ—Ç–∏–∫—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (—Ç—ñ–ª—å–∫–∏ –∞–¥–º—ñ–Ω).

#### –ü–∞—Ä–∞–º–µ—Ç—Ä–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±–æ–≤'—è–∑–∫–æ–≤–∏–π | –û–ø–∏—Å |
|-----------|-----|--------------|------|
| `period` | string | –ù—ñ | –ü–µ—Ä—ñ–æ–¥ —á–∞—Å—É: `day`, `week`, `month` (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: `week`) |
| `startDate` | string | –ù—ñ | ISO –¥–∞—Ç–∞ –¥–ª—è –≤–ª–∞—Å–Ω–æ–≥–æ –¥—ñ–∞–ø–∞–∑–æ–Ω—É |
| `endDate` | string | –ù—ñ | ISO –¥–∞—Ç–∞ –¥–ª—è –≤–ª–∞—Å–Ω–æ–≥–æ –¥—ñ–∞–ø–∞–∑–æ–Ω—É |

#### –í—ñ–¥–ø–æ–≤—ñ–¥—å

<Code language="json" title="{">
{`"period": "week",
  "totalSent": 1250,
  "totalRead": 980,
  "readRate": 78.4,
  "byType": {
    "OPPORTUNITY": { "sent": 450, "read": 380, "rate": 84.4 },
    "MESSAGE": { "sent": 320, "read": 280, "rate": 87.5 },
    "SYSTEM": { "sent": 180, "read": 120, "rate": 66.7 },
    "ENTITY": { "sent": 150, "read": 110, "rate": 73.3 },
    "WALLET": { "sent": 150, "read": 90, "rate": 60.0 }
  },
  "byPriority": {
    "urgent": { "sent": 50, "read": 48, "rate": 96.0 },
    "high": { "sent": 200, "read": 175, "rate": 87.5 },
    "normal": { "sent": 800, "read": 620, "rate": 77.5 },
    "low": { "sent": 200, "read": 137, "rate": 68.5 }
  },
  "deliveryStats": {
    "realTimeDelivered": 1200,
    "pushDelivered": 1100,
    "emailDelivered": 950
  }
}`}
</Code>

## üîÑ –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É —Ä–µ–∂–∏–º—ñ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É

### –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è WebSocket

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ Ring –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **Tunnel Transport** –¥–ª—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —É —Ä–µ–∂–∏–º—ñ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É:

// –ö–ª—ñ—î–Ω—Ç—Å—å–∫–µ WebSocket –∑'—î–¥–Ω–∞–Ω–Ω—è

<Code language="typescript" title="TypeScript">
{`import { io } from 'socket.io-client'

const socket = io('/notifications', {
  auth: {
    token: sessionToken
  }
})

// –ü—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
socket.on('notification', (notification) => {
  console.log('–ù–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:', notification)
  // –û–Ω–æ–≤–∏—Ç–∏ UI –Ω–µ–≥–∞–π–Ω–æ
  updateNotificationList(notification)
})

// –ü—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞–Ω–Ω—è –æ–Ω–æ–≤–ª–µ–Ω—å –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–∏—Ö
socket.on('unread-count', (count) => {
  updateUnreadBadge(count)
})`}
</Code>

### –§–æ–ª–±–µ–∫ Server-Sent Events (SSE)

–î–ª—è —Å–µ—Ä–µ–¥–æ–≤–∏—â –±–µ–∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ WebSocket:

// SSE –∑'—î–¥–Ω–∞–Ω–Ω—è –¥–ª—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

<Code language="typescript" title="TypeScript">
{`const eventSource = new EventSource('/api/notifications/stream')

eventSource.onmessage = (event) => {
  const data = JSON.parse(event.data)
  if (data.type === 'notification') {
    handleNewNotification(data.notification)
  }
}`}
</Code>

## üì± Push-—Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è

### –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è FCM

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ Ring —ñ–Ω—Ç–µ–≥—Ä—É—î—Ç—å—Å—è –∑ Firebase Cloud Messaging –¥–ª—è –∫—Ä–æ—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–Ω–∏—Ö push-—Å–ø–æ–≤—ñ—â–µ–Ω—å.

#### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞

// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Firebase

<Code language="typescript" title="TypeScript">
{`import { initializeApp } from 'firebase/app'
import { getMessaging, getToken, onMessage } from 'firebase/messaging'

const app = initializeApp(firebaseConfig)
const messaging = getMessaging(app)

// –ó–∞–ø–∏—Ç –¥–æ–∑–≤–æ–ª—É —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω–∞
const token = await getToken(messaging, {
  vapidKey: 'your-vapid-key'
})

// –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–æ–∫–µ–Ω–∞ –Ω–∞ Ring Platform
await fetch('/api/notifications/fcm/register', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ token, deviceType: 'web' })
})

// –û–±—Ä–æ–±–∫–∞ –≤—Ö—ñ–¥–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
onMessage(messaging, (payload) => {
  console.log('–û—Ç—Ä–∏–º–∞–Ω–æ push-—Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è:', payload)
  showNotification(payload.notification)
})`}
</Code>

#### Service Worker

// public/firebase-messaging-sw.js

<Code language="javascript" title="JavaScript">
{`importScripts('https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js')
importScripts('https://www.gstatic.com/firebasejs/9.22.0/firebase-messaging-compat.js')

const app = firebase.initializeApp(firebaseConfig)
const messaging = firebase.messaging()

messaging.onBackgroundMessage((payload) => {
  console.log('–§–æ–Ω–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:', payload)

  self.registration.showNotification(payload.notification.title, {
    body: payload.notification.body,
    icon: '/icon-192x192.png',
    badge: '/badge-72x72.png',
    data: payload.data
  })
})`}
</Code>

## üéØ –¢–∏–ø–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

### OPPORTUNITY

–¢—Ä–∏–≥–µ—Ä–∏—Ç—å—Å—è –∫–æ–ª–∏:
- –ù–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- –û—Ç—Ä–∏–º–∞–Ω–æ –∑–∞—è–≤–∫–∏ –Ω–∞ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ
- –ù–∞–±–ª–∏–∂–∞—é—Ç—å—Å—è –¥–µ–¥–ª–∞–π–Ω–∏ –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π

<Code language="json" title="{">
{`"type": "OPPORTUNITY",
  "title": "–ù–æ–≤–∞ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç—ñ",
  "message": "AI-–ø—ñ–¥—ñ–±—Ä–∞–Ω–æ: –ø–æ—Ç—Ä—ñ–±–µ–Ω —Å—Ç–∞—Ä—à–∏–π —Ä–æ–∑—Ä–æ–±–Ω–∏–∫ React",
  "data": {
    "opportunityId": "opp_123",
    "matchScore": 95,
    "actionUrl": "/opportunities/opp_123"
  }
}`}
</Code>

### MESSAGE

–¢—Ä–∏–≥–µ—Ä–∏—Ç—å—Å—è –∫–æ–ª–∏:
- –û—Ç—Ä–∏–º–∞–Ω–æ –Ω–æ–≤—ñ –ø—Ä—è–º—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
- –û–Ω–æ–≤–ª–µ–Ω–Ω—è –≥—Ä—É–ø–æ–≤–∏—Ö —Ä–æ–∑–º–æ–≤
- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –∑–≥–∞–¥–∫–∏

<Code language="json" title="{">
{`"type": "MESSAGE",
  "title": "–ù–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è",
  "message": "John Doe: –î–∞–≤–∞–π –æ–±–≥–æ–≤–æ—Ä–∏–º–æ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—é –ø—Ä–æ–µ–∫—Ç—É",
  "data": {
    "conversationId": "conv_456",
    "senderId": "user_789",
    "actionUrl": "/messages/conv_456"
  }
}`}
</Code>

### ENTITY

–¢—Ä–∏–≥–µ—Ä–∏—Ç—å—Å—è –∫–æ–ª–∏:
- –û—Ç—Ä–∏–º–∞–Ω–æ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—è —Å—É—Ç–Ω–æ—Å—Ç–µ–π
- –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è —Å—É—Ç–Ω–æ—Å—Ç–µ–π
- –ó–º—ñ–Ω–∏ —Å—Ç–∞—Ç—É—Å—É –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

<Code language="json" title="{">
{`"type": "ENTITY",
  "title": "–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—è —Å—É—Ç–Ω–æ—Å—Ç—ñ",
  "message": "TechCorp –∑–∞–ø—Ä–æ—Å–∏–≤ –≤–∞—Å –ø—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è –¥–æ —ó—Ö –º–µ—Ä–µ–∂—ñ",
  "data": {
    "entityId": "ent_123",
    "invitationId": "inv_456",
    "actionUrl": "/entities/ent_123"
  }
}`}
</Code>

### SYSTEM

–î–ª—è:
- –û–≥–æ–ª–æ—à–µ–Ω–Ω—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏
- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è
- –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏
- –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–π

<Code language="json" title="{">
{`"type": "SYSTEM",
  "title": "–î–æ—Å—Ç—É–ø–Ω–∞ –Ω–æ–≤–∞ —Ñ—É–Ω–∫—Ü—ñ—è",
  "message": "AI-–ø—ñ–¥—ñ–±—Ä–∞–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ —Ç–µ–ø–µ—Ä —É —Ä–µ–∂–∏–º—ñ –æ–Ω–ª–∞–π–Ω!",
  "data": {
    "feature": "ai-matching",
    "actionUrl": "/features/ai-matching"
  }
}`}
</Code>

### WALLET

–î–ª—è:
- –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π
- –û–Ω–æ–≤–ª–µ–Ω–Ω—è –±–∞–ª–∞–Ω—Å—ñ–≤
- –ù–∞–≥–æ—Ä–æ–¥–∏ —Å—Ç–µ–π–∫—ñ–Ω–≥—É
- –ö–≤–∏—Ç–∞–Ω—Ü—ñ—ó –ø–ª–∞—Ç–µ–∂—ñ–≤

<Code language="json" title="{">
{`"type": "WALLET",
  "title": "–û—Ç—Ä–∏–º–∞–Ω–æ –ø–ª–∞—Ç—ñ–∂",
  "message": "–û—Ç—Ä–∏–º–∞–Ω–æ 500 —Ç–æ–∫–µ–Ω—ñ–≤ RING –≤—ñ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É",
  "data": {
    "transactionId": "tx_123",
    "amount": "500",
    "currency": "RING",
    "actionUrl": "/wallet/transactions/tx_123"
  }
}`}
</Code>

## üîß –ü—Ä–∏–∫–ª–∞–¥–∏ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

### React Hook –¥–ª—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

// hooks/useNotifications.ts

<Code language="typescript" title="TypeScript">
{`import { useState, useEffect } from 'react'
import { io, Socket } from 'socket.io-client'

interface Notification {
  id: string
  type: string
  title: string
  message: string
  status: 'unread' | 'read'
  createdAt: string
  data?: Record<string, any>
}

export function useNotifications() {
  const [notifications, setNotifications] = useState<Notification[]>([])
  const [unreadCount, setUnreadCount] = useState(0)
  const [socket, setSocket] = useState<Socket | null>(null)

  useEffect(() => {
    // –û—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ—á–∞—Ç–∫–æ–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
    fetchNotifications()

    // –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ WebSocket –∑'—î–¥–Ω–∞–Ω–Ω—è
    const newSocket = io('/notifications')
    setSocket(newSocket)

    newSocket.on('notification', (notification: Notification) => {
      setNotifications(prev => [notification, ...prev])
      setUnreadCount(prev => prev + 1)
    })

    newSocket.on('unread-count', (count: number) => {
      setUnreadCount(count)
    })

    return () => {
      newSocket.disconnect()
    }
  }, [])

  const fetchNotifications = async () => {
    try {
      const response = await fetch('/api/notifications')
      const data = await response.json()
      setNotifications(data.notifications)
      setUnreadCount(data.unreadCount)
    } catch (error) {
      console.error('–ù–µ –≤–¥–∞–ª–æ—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:', error)
    }
  }

  const markAsRead = async (notificationId: string) => {
    try {
      await fetch(`/api/notifications/${notificationId}/read`, {
        method: 'PUT'
      })
      setNotifications(prev =>
        prev.map(n =>
          n.id === notificationId ? { ...n, status: 'read' } : n
        )
      )
      setUnreadCount(prev => Math.max(0, prev - 1))
    } catch (error) {
      console.error('–ù–µ –≤–¥–∞–ª–æ—Å—è –ø–æ–∑–Ω–∞—á–∏—Ç–∏ —è–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–µ:', error)
    }
  }

  return {
    notifications,
    unreadCount,
    markAsRead,
    refresh: fetchNotifications
  }
}`}
</Code>

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ü–µ–Ω—Ç—Ä—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

// components/NotificationCenter.tsx

<Code language="typescript" title="TypeScript">
{`import { useNotifications } from '@/hooks/useNotifications'
import { Bell, Check } from 'lucide-react'

export function NotificationCenter() {
  const { notifications, unreadCount, markAsRead } = useNotifications()

  return (
    <div className="notification-center">
      <div className="flex items-center gap-2 mb-4">
        <Bell className="w-5 h-5" />
        <span className="font-semibold">–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è</span>
        {unreadCount > 0 && (
          <span className="bg-red-500 text-white text-xs px-2 py-1 rounded-full">
            {unreadCount}
          </span>
        )}
      </div>

      <div className="space-y-2">
        {notifications.map(notification => (
          <div
            key={notification.id}
            className={`p-3 rounded-lg border ${
              notification.status === 'unread'
                ? 'bg-blue-50 border-blue-200'
                : 'bg-white border-gray-200'
            }`}
          >
            <div className="flex justify-between items-start">
              <div className="flex-1">
                <h4 className="font-medium text-sm">{notification.title}</h4>
                <p className="text-sm text-gray-600 mt-1">
                  {notification.message}
                </p>
                <span className="text-xs text-gray-400 mt-1 block">
                  {new Date(notification.createdAt).toLocaleString()}
                </span>
              </div>
              {notification.status === 'unread' && (
                <button
                  onClick={() => markAsRead(notification.id)}
                  className="ml-2 p-1 hover:bg-gray-100 rounded"
                >
                  <Check className="w-4 h-4" />
                </button>
              )}
            </div>
          </div>
        ))}
      </div>
    </div>
  )
}`}
</Code>

## üö® –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

### –ü–æ—à–∏—Ä–µ–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏

// –ü–æ–º–∏–ª–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

<Code language="json" title="configuration">
{`{
  "error": "Unauthorized",
  "message": "–ù–µ–æ–±—Ö—ñ–¥–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è",
  "statusCode": 401
}

// –ü–æ–º–∏–ª–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
{
  "error": "ValidationError",
  "message": "–ù–µ–¥—ñ–π—Å–Ω—ñ –¥–∞–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è",
  "details": {
    "type": "–ù–µ–¥—ñ–π—Å–Ω–∏–π —Ç–∏–ø –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è",
    "userId": "ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π"
  },
  "statusCode": 400
}

// –ü–æ–º–∏–ª–∫–∞ –æ–±–º–µ–∂–µ–Ω–Ω—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ
{
  "error": "RateLimitError",
  "message": "–ó–∞–±–∞–≥–∞—Ç–æ –∑–∞–ø–∏—Ç—ñ–≤",
  "retryAfter": 60,
  "statusCode": 429
}

// –°–µ—Ä–≤–µ—Ä–Ω–∞ –ø–æ–º–∏–ª–∫–∞
{
  "error": "InternalServerError",
  "message": "–ù–µ –≤–¥–∞–ª–æ—Å—è –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è",
  "requestId": "req_123456",
  "statusCode": 500
}`}
</Code>

## üîí –ó–∞—Ö–æ–¥–∏ –±–µ–∑–ø–µ–∫–∏

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
- –£—Å—ñ –∫—ñ–Ω—Ü–µ–≤—ñ —Ç–æ—á–∫–∏ –≤–∏–º–∞–≥–∞—é—Ç—å –¥—ñ–π—Å–Ω–æ—ó –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Å–µ—Å—ñ—ó
- –ê–¥–º—ñ–Ω –∫—ñ–Ω—Ü–µ–≤—ñ —Ç–æ—á–∫–∏ –≤–∏–º–∞–≥–∞—é—Ç—å —Ä–æ–ª—ñ `ADMIN`
- FCM —Ç–æ–∫–µ–Ω–∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ñ —Ç–∞ –±–µ–∑–ø–µ—á–Ω–æ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ

### –û–±–º–µ–∂–µ–Ω–Ω—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ: 100 –∑–∞–ø–∏—Ç—ñ–≤/—Ö–≤–∏–ª–∏–Ω—É
- –ê–¥–º—ñ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ: 500 –∑–∞–ø–∏—Ç—ñ–≤/—Ö–≤–∏–ª–∏–Ω—É
- –ú–∞—Å–æ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó: 10 –æ–ø–µ—Ä–∞—Ü—ñ–π/—Ö–≤–∏–ª–∏–Ω—É

### –í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö
- –£—Å—ñ –≤—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ –≤–∞–ª—ñ–¥—É—é—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å—Ö–µ–º Zod
- HTML –∫–æ–Ω—Ç–µ–Ω—Ç —Å–∞–Ω—ñ—Ç—ñ–∑—É—î—Ç—å—Å—è –¥–ª—è –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è XSS
- –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ —Å–∫–∞–Ω—É—î—Ç—å—Å—è –Ω–∞ –≤—ñ—Ä—É—Å–∏ —Ç–∞ —à–∫—ñ–¥–ª–∏–≤–µ –ü–ó

### –ö–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω—ñ—Å—Ç—å
- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø–æ–≤–∞–∂–∞—é—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- –ù—ñ—è–∫–æ—ó –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó —É –∫–æ—Ä–∏—Å–Ω–∏—Ö –¥–∞–Ω–∏—Ö push-—Å–ø–æ–≤—ñ—â–µ–Ω—å
- GDPR-—Å—É–º—ñ—Å–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –¥–∞–Ω–∏—Ö

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞

### –ú–µ—Ç—Ä–∏–∫–∏ —É —Ä–µ–∂–∏–º—ñ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É

// –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –ø–æ–¥—ñ–π –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

<Code language="typescript" title="TypeScript">
{`import { trackEvent } from '@/lib/analytics'

socket.on('notification', (notification) => {
  trackEvent('notification_received', {
    type: notification.type,
    priority: notification.priority,
    deliveryMethod: 'websocket'
  })
})

// –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –¥–æ—Å—Ç–∞–≤–∫–∏
const startTime = Date.now()

socket.emit('notification', notificationData, (ack) => {
  const deliveryTime = Date.now() - startTime
  trackEvent('notification_delivered', {
    deliveryTime,
    method: 'websocket'
  })
})`}
</Code>

## üéõÔ∏è –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è FCM –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å Redis (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)

<Code language="bash" title="terminal">
{`FCM_SERVER_KEY=your-fcm-server-key
FCM_VAPID_KEY=your-vapid-public-key

NOTIFICATION_RATE_LIMIT=100
NOTIFICATION_BULK_LIMIT=50
NOTIFICATION_RETENTION_DAYS=90

REDIS_URL=redis://localhost:6379`}
</Code>

### –°—Ö–µ–º–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

<Code language="sql" title="-- –¢–∞–±–ª–∏—Ü—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å">
{`CREATE TABLE notifications (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID NOT NULL REFERENCES users(id),
  type VARCHAR(50) NOT NULL,
  title VARCHAR(255) NOT NULL,
  message TEXT NOT NULL,
  data JSONB,
  priority VARCHAR(20) DEFAULT 'normal',
  status VARCHAR(20) DEFAULT 'unread',
  created_at TIMESTAMP DEFAULT NOW(),
  read_at TIMESTAMP,
  expires_at TIMESTAMP
);

-- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
CREATE TABLE notification_preferences (
  user_id UUID PRIMARY KEY REFERENCES users(id),
  email_notifications BOOLEAN DEFAULT true,
  push_notifications BOOLEAN DEFAULT true,
  preferences JSONB DEFAULT '{}',
  updated_at TIMESTAMP DEFAULT NOW()
);`}
</Code>

---

*–°–∏—Å—Ç–µ–º–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏ Ring –∑–∞–±–µ–∑–ø–µ—á—É—î –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è –∑ –¥–æ—Å—Ç–∞–≤–∫–æ—é —É —Ä–µ–∂–∏–º—ñ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É, –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ—é –∞–Ω–∞–ª—ñ—Ç–∏–∫–æ—é —Ç–∞ –∫—Ä–æ—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–Ω–æ—é —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—é.*