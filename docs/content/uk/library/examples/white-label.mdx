---
title: –ë—ñ–ª–∏–π –ª–µ–π–±–ª
description: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –±—ñ–ª–æ–≥–æ –ª–µ–π–±–ª—É –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏ Ring
---

# –ü—Ä–∏–∫–ª–∞–¥–∏ –±—ñ–ª–æ–≥–æ –ª–µ–π–±–ª—É

–ü–æ–≤–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ –±—ñ–ª–æ–≥–æ –ª–µ–π–±–ª–∏–Ω–≥—É —Ç–∞ –∫–∞—Å—Ç–æ–º—ñ–∑–∞—Ü—ñ—ó –¥–ª—è –∞–≥–µ–Ω—Ç—Å—Ç–≤ —Ç–∞ –ø—ñ–¥–ø—Ä–∏—î–º—Å—Ç–≤, —è–∫—ñ —Ä–æ–∑—Ä–æ–±–ª—è—é—Ç—å –∑ –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ—é Ring.

## üé® –ö–∞—Å—Ç–æ–º—ñ–∑–∞—Ü—ñ—è –±—Ä–µ–Ω–¥—É

### –ü–æ–≤–Ω–µ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –±—Ä–µ–Ω–¥—É

// lib/brand-config.ts

<Code language="typescript" title="TypeScript">
{`export interface BrandConfig {
  name: string
  logo: {
    light: string
    dark: string
    favicon: string
  }
  colors: {
    primary: string
    secondary: string
    accent: string
    background: string
    foreground: string
  }
  typography: {
    fontFamily: string
    headingFont?: string
  }
  domain: string
  contact: {
    email: string
    phone?: string
    address?: string
  }
}

// –ü—Ä–∏–∫–ª–∞–¥–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π –±—Ä–µ–Ω–¥—ñ–≤
export const brandConfigs: Record<string, BrandConfig> = {
  'tech-startup': {
    name: 'TechConnect',
    logo: {
      light: '/brands/techconnect/logo-light.svg',
      dark: '/brands/techconnect/logo-dark.svg',
      favicon: '/brands/techconnect/favicon.ico'
    },
    colors: {
      primary: '#3B82F6',
      secondary: '#8B5CF6',
      accent: '#10B981',
      background: '#FFFFFF',
      foreground: '#1F2937'
    },
    typography: {
      fontFamily: 'Inter, sans-serif',
      headingFont: 'Poppins, sans-serif'
    },
    domain: 'techconnect.com',
    contact: {
      email: 'hello@techconnect.com',
      phone: '+1 (555) 123-4567'
    }
  },
  'healthcare-network': {
    name: 'MedConnect',
    logo: {
      light: '/brands/medconnect/logo-light.svg',
      dark: '/brands/medconnect/logo-dark.svg',
      favicon: '/brands/medconnect/favicon.ico'
    },
    colors: {
      primary: '#059669',
      secondary: '#0891B2',
      accent: '#DC2626',
      background: '#F9FAFB',
      foreground: '#111827'
    },
    typography: {
      fontFamily: 'Source Sans Pro, sans-serif',
      headingFont: 'Merriweather, serif'
    },
    domain: 'medconnect.health',
    contact: {
      email: 'support@medconnect.health',
      phone: '+1 (555) 987-6543'
    }
  }
}

// Brand context provider
export function getBrandConfig(domain: string): BrandConfig {
  // In production, this would be determined by the domain
  const subdomain = domain.split('.')[0]
  return brandConfigs[subdomain] || brandConfigs['tech-startup']
}`}
</Code>

### –î–∏–Ω–∞–º—ñ—á–Ω–∏–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –±—Ä–µ–Ω–¥—É

// components/BrandProvider.tsx

<Code language="typescript" title="TypeScript">
{`'use client'

import { createContext, useContext, useEffect, useState } from 'react'
import { BrandConfig, getBrandConfig } from '@/lib/brand-config'

const BrandContext = createContext<BrandConfig | null>(null)

export function BrandProvider({ children }: { children: React.ReactNode }) {
  const [brand, setBrand] = useState<BrandConfig | null>(null)

  useEffect(() => {
    // Get brand config based on current domain
    const domain = window.location.hostname
    const config = getBrandConfig(domain)
    setBrand(config)

    // Apply brand styles dynamically
    applyBrandStyles(config)
  }, [])

  const applyBrandStyles = (config: BrandConfig) => {
    const root = document.documentElement

    // Apply CSS custom properties
    root.style.setProperty('--brand-primary', config.colors.primary)
    root.style.setProperty('--brand-secondary', config.colors.secondary)
    root.style.setProperty('--brand-accent', config.colors.accent)
    root.style.setProperty('--brand-background', config.colors.background)
    root.style.setProperty('--brand-foreground', config.colors.foreground)
    root.style.setProperty('--brand-font', config.typography.fontFamily)
    
    if (config.typography.headingFont) {
      root.style.setProperty('--brand-heading-font', config.typography.headingFont)
    }

    // Update document title and favicon
    document.title = `${config.name} - Professional Networking Platform`
    
    const favicon = document.querySelector('link[rel="icon"]') as HTMLLinkElement
    if (favicon) {
      favicon.href = config.logo.favicon
    }
  }

  if (!brand) {
    return <div>Loading brand configuration...</div>
  }

  return (
    <BrandContext.Provider value={brand}>
      {children}
    </BrandContext.Provider>
  )
}

export function useBrand() {
  const context = useContext(BrandContext)
  if (!context) {
    throw new Error('useBrand must be used within a BrandProvider')
  }
  return context
}`}
</Code>
### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –±—Ä–µ–Ω–¥–æ–≤–∞–Ω–æ–≥–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞

// components/BrandedHeader.tsx

<Code language="typescript" title="TypeScript">
{`'use client'

import { useBrand } from './BrandProvider'
import { useSession, signIn, signOut } from 'next-auth/react'

export function BrandedHeader() {
  const brand = useBrand()
  const { data: session } = useSession()

  return (
    <header className="bg-white border-b border-gray-200 shadow-sm">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex justify-between items-center h-16">
          {/* Brand Logo */}
          <div className="flex items-center">
            <img
              src={brand.logo.light}
              alt={brand.name}
              className="h-8 w-auto dark:hidden"
            />
            <img
              src={brand.logo.dark}
              alt={brand.name}
              className="h-8 w-auto hidden dark:block"
            />
            <span className="ml-3 text-xl font-bold" style={{ color: brand.colors.primary }}>
              {brand.name}
            </span>
          </div>

          {/* Navigation */}
          <nav className="hidden md:flex space-x-8">
            <a href="/entities" className="text-gray-700 hover:text-gray-900">
              Organizations
            </a>
            <a href="/opportunities" className="text-gray-700 hover:text-gray-900">
              Opportunities
            </a>
            <a href="/marketplace" className="text-gray-700 hover:text-gray-900">
              Marketplace
            </a>
          </nav>

          {/* User Menu */}
          <div className="flex items-center space-x-4">
            {session ? (
              <div className="flex items-center space-x-3">
                <span className="text-sm text-gray-700">
                  Welcome, {session.user?.name}
                </span>
                <button
                  onClick={() => signOut()}
                  className="text-sm text-gray-500 hover:text-gray-700"
                >
                  Sign Out
                </button>
              </div>
            ) : (
              <button
                onClick={() => signIn()}
                className="px-4 py-2 rounded-md text-white font-medium"
                style={{ backgroundColor: brand.colors.primary }}
              >
                Sign In
              </button>
            )}
          </div>
        </div>
      </div>
    </header>
  )
}`}
</Code>
## üè¢ –ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Ç–µ–Ω–∞–Ω—Ç–∞

// lib/tenant-config.ts

<Code language="typescript" title="TypeScript">
{`export interface TenantConfig {
  id: string
  name: string
  domain: string
  subdomain: string
  brand: BrandConfig
  features: {
    entities: boolean
    opportunities: boolean
    messaging: boolean
    wallet: boolean
    store: boolean
    nftMarketplace: boolean
    staking: boolean
  }
  limits: {
    maxEntities: number
    maxUsers: number
    storageGB: number
  }
  integrations: {
    customDomain: boolean
    sso: boolean
    api: boolean
    webhooks: boolean
  }
  subscription: {
    plan: 'starter' | 'professional' | 'enterprise'
    status: 'active' | 'suspended' | 'cancelled'
    expiresAt: string
  }
}

export const tenantConfigs: Record<string, TenantConfig> = {
  'tech-startup': {
    id: 'tech-startup-001',
    name: 'TechConnect',
    domain: 'techconnect.com',
    subdomain: 'techconnect',
    brand: brandConfigs['tech-startup'],
    features: {
      entities: true,
      opportunities: true,
      messaging: true,
      wallet: true,
      store: false,
      nftMarketplace: false,
      staking: false
    },
    limits: {
      maxEntities: 1000,
      maxUsers: 5000,
      storageGB: 100
    },
    integrations: {
      customDomain: true,
      sso: true,
      api: true,
      webhooks: true
    },
    subscription: {
      plan: 'professional',
      status: 'active',
      expiresAt: '2024-12-31T23:59:59Z'
    }
  }
}

export function getTenantConfig(domain: string): TenantConfig | null {
  const subdomain = domain.split('.')[0]
  return tenantConfigs[subdomain] || null
}`}
</Code>
### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–æ–Ω—Ç—Ä–æ–ª—é —Ñ—É–Ω–∫—Ü—ñ–π

// components/FeatureGate.tsx

<Code language="typescript" title="TypeScript">
{`'use client'

import { useTenant } from '@/hooks/useTenant'

interface FeatureGateProps {
  feature: keyof TenantConfig['features']
  children: React.ReactNode
  fallback?: React.ReactNode
}

export function FeatureGate({ feature, children, fallback }: FeatureGateProps) {
  const tenant = useTenant()

  if (!tenant?.features[feature]) {
    return fallback || (
      <div className="p-4 bg-gray-100 rounded-lg text-center">
        <p className="text-gray-600">
          This feature is not available in your current plan.
        </p>
        <button className="mt-2 text-blue-600 hover:text-blue-800">
          Upgrade Plan
        </button>
      </div>
    )
  }

  return <>{children}</>
}

// Usage example
export function Dashboard() {
  return (
    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <div className="bg-white p-6 rounded-lg shadow">
        <h3 className="text-lg font-semibold mb-4">Organizations</h3>
        <p>Manage your organizations and teams.</p>
      </div>

      <FeatureGate feature="wallet">
        <div className="bg-white p-6 rounded-lg shadow">
          <h3 className="text-lg font-semibold mb-4">Wallet</h3>
          <p>Manage your crypto wallet and tokens.</p>
        </div>
      </FeatureGate>

      <FeatureGate feature="store">
        <div className="bg-white p-6 rounded-lg shadow">
          <h3 className="text-lg font-semibold mb-4">Marketplace</h3>
          <p>Buy and sell products and services.</p>
        </div>
      </FeatureGate>
    </div>
  )
}`}
</Code>

## üéØ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤–ª–∞—Å–Ω–æ–≥–æ –¥–æ–º–µ–Ω—É

### –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –¥–æ–º–µ–Ω—É

// lib/domain-config.ts

<Code language="typescript" title="TypeScript">
{`export interface DomainConfig {
  domain: string
  tenantId: string
  ssl: {
    enabled: boolean
    certificate?: string
    privateKey?: string
  }
  dns: {
    verified: boolean
    records: Array<{
      type: 'A' | 'CNAME' | 'TXT'
      name: string
      value: string
      ttl: number
    }>
  }
  status: 'pending' | 'active' | 'failed'
}

export async function setupCustomDomain(
  tenantId: string,
  domain: string
): Promise<DomainConfig> {
  // Verify domain ownership
  const verificationToken = generateVerificationToken()
  
  const config: DomainConfig = {
    domain,
    tenantId,
    ssl: {
      enabled: false
    },
    dns: {
      verified: false,
      records: [
        {
          type: 'CNAME',
          name: domain,
          value: 'ring-platform.vercel.app',
          ttl: 300
        },
        {
          type: 'TXT',
          name: `_ring-verification.${domain}`,
          value: verificationToken,
          ttl: 300
        }
      ]
    },
    status: 'pending'
  }

  // Save configuration
  await saveDomainConfig(config)
  
  // Start verification process
  await verifyDomainOwnership(config)
  
  return config
}

async function verifyDomainOwnership(config: DomainConfig): Promise<boolean> {
  // Implementation would check DNS records
  // This is a simplified example
  return true
}

function generateVerificationToken(): string {
  return Math.random().toString(36).substring(2, 15) + 
         Math.random().toString(36).substring(2, 15)
}

async function saveDomainConfig(config: DomainConfig): Promise<void> {
  // Save to database
}`}
</Code>
### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–æ–º–µ–Ω—É

// components/DomainSetup.tsx

<Code language="typescript" title="TypeScript">
{`'use client'

import { useState } from 'react'
import { setupCustomDomain } from '@/lib/domain-config'

export function DomainSetup() {
  const [domain, setDomain] = useState('')
  const [loading, setLoading] = useState(false)
  const [config, setConfig] = useState<DomainConfig | null>(null)

  const handleSetupDomain = async (e: React.FormEvent) => {
    e.preventDefault()
    setLoading(true)

    try {
      const domainConfig = await setupCustomDomain('current-tenant-id', domain)
      setConfig(domainConfig)
    } catch (error) {
      console.error('Failed to setup domain:', error)
      alert('Failed to setup custom domain')
    } finally {
      setLoading(false)
    }
  }

  return (
    <div className="max-w-2xl mx-auto p-6">
      <h2 className="text-2xl font-bold mb-6">–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤–ª–∞—Å–Ω–æ–≥–æ –¥–æ–º–µ–Ω—É</h2>

      {!config ? (
        <form onSubmit={handleSetupDomain} className="space-y-4">
          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">
              –í–ª–∞—Å–Ω–∏–π –¥–æ–º–µ–Ω
            </label>
            <input
              type="text"
              value={domain}
              onChange={(e) => setDomain(e.target.value)}
              placeholder="–≤–∞—à–¥–æ–º–µ–Ω.com"
              className="w-full p-3 border border-gray-300 rounded-lg"
              required
            />
            <p className="text-sm text-gray-600 mt-1">
              –í–≤–µ–¥—ñ—Ç—å –≤–∞—à –≤–ª–∞—Å–Ω–∏–π –¥–æ–º–µ–Ω –±–µ–∑ http:// –∞–±–æ https://
            </p>
          </div>

          <button
            type="submit"
            disabled={loading}
            className="w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50"
          >
            {loading ? '–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–æ–º–µ–Ω—É...' : '–ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω–∏–π –¥–æ–º–µ–Ω'}
          </button>
        </form>
      ) : (
        <div className="space-y-6">
          <div className="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
            <h3 className="font-semibold text-yellow-800 mb-2">
              –ü–æ—Ç—Ä—ñ–±–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è DNS
            </h3>
            <p className="text-yellow-700 mb-4">
              –ë—É–¥—å –ª–∞—Å–∫–∞, –¥–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—ñ DNS –∑–∞–ø–∏—Å–∏ –¥–æ –≤–∞—à–æ–≥–æ –¥–æ–º–µ–Ω—É:
            </p>

            <div className="space-y-3">
              {config.dns.records.map((record, index) => (
                <div key={index} className="bg-white p-3 rounded border">
                  <div className="grid grid-cols-4 gap-4 text-sm">
                    <div>
                      <strong>–¢–∏–ø:</strong> {record.type}
                    </div>
                    <div>
                      <strong>–Ü–º'—è:</strong> {record.name}
                    </div>
                    <div>
                      <strong>–ó–Ω–∞—á–µ–Ω–Ω—è:</strong> 
                      <code className="bg-gray-100 px-1 rounded text-xs">
                        {record.value}
                      </code>
                    </div>
                    <div>
                      <strong>TTL:</strong> {record.ttl}
                    </div>
                  </div>
                </div>
              ))}
            </div>
          </div>

          <div className="bg-blue-50 border border-blue-200 rounded-lg p-4">
            <h3 className="font-semibold text-blue-800 mb-2">–ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏</h3>
            <ol className="list-decimal list-inside text-blue-700 space-y-1">
              <li>–î–æ–¥–∞–π—Ç–µ DNS –∑–∞–ø–∏—Å–∏ –¥–æ –≤–∞—à–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –¥–æ–º–µ–Ω—É</li>
              <li>–î–æ—á–µ–∫–∞–π—Ç–µ—Å—è –ø–æ—à–∏—Ä–µ–Ω–Ω—è DNS (–¥–æ 24 –≥–æ–¥–∏–Ω)</li>
              <li>–ú–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏–º–æ —Ç–∞ –∞–∫—Ç–∏–≤—É—î–º–æ –≤–∞—à –¥–æ–º–µ–Ω</li>
              <li>SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ</li>
            </ol>
          </div>

          <div className="flex justify-between items-center">
            <div className="flex items-center space-x-2">
              <div className={`w-3 h-3 rounded-full ${
                config.status === 'active' ? 'bg-green-500' :
                config.status === 'pending' ? 'bg-yellow-500' : 'bg-red-500'
              }`}></div>
              <span className="text-sm font-medium">
                –°—Ç–∞—Ç—É—Å: {config.status === 'active' ? '–ê–∫—Ç–∏–≤–Ω–∏–π' : 
                         config.status === 'pending' ? '–û—á—ñ–∫—É–≤–∞–Ω–Ω—è' : '–ù–µ–∞–∫—Ç–∏–≤–Ω–∏–π'}
              </span>
            </div>

            <button
              onClick={() => window.location.reload()}
              className="text-blue-600 hover:text-blue-800 text-sm"
            >
              –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å
            </button>
          </div>
        </div>
      )}
    </div>
  )
}`}
</Code>
## üîß –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–≥–∞—Ç–æ—Å–µ—Ä–µ–¥–æ–≤–∏—â–Ω–æ—Å—Ç—ñ

// lib/env-config.ts

<Code language="typescript" title="TypeScript">
{`export interface EnvironmentConfig {
  name: 'development' | 'staging' | 'production'
  api: {
    baseUrl: string
    timeout: number
    retries: number
  }
  database: {
    url: string
    ssl: boolean
  }
  auth: {
    providers: string[]
    sessionTimeout: number
  }
  features: {
    debug: boolean
    analytics: boolean
    errorTracking: boolean
  }
  integrations: {
    stripe: boolean
    sendgrid: boolean
    aws: boolean
  }
}

export const environments: Record<string, EnvironmentConfig> = {
  development: {
    name: 'development',
    api: {
      baseUrl: 'http://localhost:3000/api',
      timeout: 10000,
      retries: 3
    },
    database: {
      url: process.env.DATABASE_URL || 'postgresql://localhost:5432/ring_dev',
      ssl: false
    },
    auth: {
      providers: ['email', 'google'],
      sessionTimeout: 24 * 60 * 60 // 24 hours
    },
    features: {
      debug: true,
      analytics: false,
      errorTracking: false
    },
    integrations: {
      stripe: false,
      sendgrid: false,
      aws: false
    }
  },
  production: {
    name: 'production',
    api: {
      baseUrl: 'https://ring.ck.ua/api',
      timeout: 5000,
      retries: 5
    },
    database: {
      url: process.env.DATABASE_URL!,
      ssl: true
    },
    auth: {
      providers: ['email', 'google', 'apple', 'metamask'],
      sessionTimeout: 7 * 24 * 60 * 60 // 7 days
    },
    features: {
      debug: false,
      analytics: true,
      errorTracking: true
    },
    integrations: {
      stripe: true,
      sendgrid: true,
      aws: true
    }
  }
}

export function getEnvironmentConfig(): EnvironmentConfig {
  const env = process.env.NODE_ENV as keyof typeof environments
  return environments[env] || environments.development
}`}
</Code>
### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –¥–ª—è –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –°–µ—Ä–µ–¥–æ–≤–∏—â

// components/EnvironmentBanner.tsx

<Code language="typescript" title="TypeScript">
{`'use client'

import { getEnvironmentConfig } from '@/lib/env-config'

export function EnvironmentBanner() {
  const config = getEnvironmentConfig()

  if (config.name === 'production') {
    return null
  }

  const bannerColors = {
    development: 'bg-green-600',
    staging: 'bg-yellow-600'
  }

  return (
    <div className={`${bannerColors[config.name]} text-white text-center py-2 text-sm`}>
      <strong>
        {config.name.toUpperCase()} ENVIRONMENT
      </strong>
      {config.features.debug && ' - Debug Mode Enabled'}
    </div>
  )
}

// components/ConditionalFeature.tsx
interface ConditionalFeatureProps {
  environment: 'development' | 'staging' | 'production'
  children: React.ReactNode
}

export function ConditionalFeature({ environment, children }: ConditionalFeatureProps) {
  const config = getEnvironmentConfig()

  if (config.name !== environment) {
    return null
  }

  return <>{children}</>
}

// Usage
export function AdminPanel() {
  return (
    <div>
      <h1>Admin Panel</h1>
      
      <ConditionalFeature environment="development">
        <div className="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4">
          <strong>Development Only:</strong> Debug tools and test data controls
        </div>
      </ConditionalFeature>

      {/* Regular admin content */}
    </div>
  )
}`}
</Code>
## üìä –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ —Ç–∞ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–æ—ó –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏

// lib/analytics.ts

<Code language="typescript" title="TypeScript">
{`export interface AnalyticsEvent {
  name: string
  properties?: Record<string, any>
  userId?: string
  tenantId?: string
  timestamp?: string
}

export class Analytics {
  private tenantId: string
  private userId?: string

  constructor(tenantId: string, userId?: string) {
    this.tenantId = tenantId
    this.userId = userId
  }

  track(event: AnalyticsEvent) {
    const enrichedEvent = {
      ...event,
      tenantId: this.tenantId,
      userId: this.userId || event.userId,
      timestamp: new Date().toISOString(),
      properties: {
        ...event.properties,
        url: window.location.href,
        userAgent: navigator.userAgent,
        referrer: document.referrer
      }
    }

    // Send to analytics service
    this.sendEvent(enrichedEvent)
  }

  private async sendEvent(event: AnalyticsEvent) {
    try {
      await fetch('/api/analytics/track', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(event)
      })
    } catch (error) {
      console.error('Analytics tracking failed:', error)
    }
  }

  // Predefined events
  trackPageView(page: string) {
    this.track({
      name: 'page_view',
      properties: { page }
    })
  }

  trackEntityCreated(entityType: string) {
    this.track({
      name: 'entity_created',
      properties: { entityType }
    })
  }

  trackOpportunityApplied(opportunityId: string, opportunityType: string) {
    this.track({
      name: 'opportunity_applied',
      properties: { opportunityId, opportunityType }
    })
  }

  trackWalletConnected(walletType: string) {
    this.track({
      name: 'wallet_connected',
      properties: { walletType }
    })
  }
}

// Analytics hook
export function useAnalytics() {
  const tenant = useTenant()
  const { data: session } = useSession()

  return new Analytics(tenant?.id || 'unknown', session?.user?.id)
}`}
</Code>

---

*–ì–æ—Ç–æ–≤—ñ –ø–æ–±–∞—á–∏—Ç–∏ –ø–æ–≤–Ω—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó? –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ [–†–µ–∞–ª—å–Ω—ñ –¥–æ–¥–∞—Ç–∫–∏](/uk/docs/examples/real-world) –∞–±–æ –¥–æ—Å–ª—ñ–¥—ñ—Ç—å –Ω–∞—à—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ [–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó API](/uk/docs/examples/api-integration).*
