---
title: Code Structure
description: Code Structure documentation for Ring Platform
---

# Code Structure

Understanding Ring Platform's codebase architecture and organization.

## ğŸ“ High-Level Architecture

Ring Platform follows a **feature-based architecture** with clear separation of concerns:

```
ring/
â”œâ”€â”€ app/                 # Next.js 15 App Router
â”œâ”€â”€ components/         # Reusable React components
â”œâ”€â”€ features/           # Feature modules (domain-driven)
â”œâ”€â”€ lib/               # Shared utilities and configurations
â”œâ”€â”€ @actions/          # Server actions (Next.js 15)
â”œâ”€â”€ public/            # Static assets
â””â”€â”€ AI-CONTEXT/        # AI documentation system
```

## ğŸ—ï¸ App Directory Structure

### App Router (Next.js 15)

```
app/
â”œâ”€â”€ (auth)/            # Route groups for auth pages
â”‚   â”œâ”€â”€ login/
â”‚   â””â”€â”€ register/
â”œâ”€â”€ (dashboard)/       # Protected dashboard routes
â”‚   â”œâ”€â”€ entities/
â”‚   â”œâ”€â”€ opportunities/
â”‚   â””â”€â”€ wallet/
â”œâ”€â”€ api/              # API routes
â”‚   â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ entities/
â”‚   â””â”€â”€ opportunities/
â”œâ”€â”€ globals.css       # Global styles
â”œâ”€â”€ layout.tsx        # Root layout
â””â”€â”€ page.tsx          # Homepage
```

### Route Groups
- `(auth)` - Authentication-related pages
- `(dashboard)` - Protected user dashboard
- `(public)` - Public marketing pages

## ğŸ§© Components Architecture

### Component Hierarchy

```
components/
â”œâ”€â”€ ui/               # Base UI components (shadcn/ui)
â”‚   â”œâ”€â”€ button.tsx
â”‚   â”œâ”€â”€ input.tsx
â”‚   â””â”€â”€ dialog.tsx
â”œâ”€â”€ features/         # Feature-specific components
â”‚   â”œâ”€â”€ entities/
â”‚   â”œâ”€â”€ opportunities/
â”‚   â””â”€â”€ wallet/
â”œâ”€â”€ layout/          # Layout components
â”‚   â”œâ”€â”€ navbar.tsx
â”‚   â”œâ”€â”€ sidebar.tsx
â”‚   â””â”€â”€ footer.tsx
â””â”€â”€ shared/          # Shared business components
    â”œâ”€â”€ user-avatar.tsx
    â””â”€â”€ loading-spinner.tsx
```

### Component Patterns

#### 1. Base UI Components
// components/ui/button.tsx

<Code language="typescript" title="TypeScript">
{`import { cn } from '@/lib/utils'

interface ButtonProps {
  variant?: 'default' | 'destructive' | 'outline'
  size?: 'default' | 'sm' | 'lg'
  children: React.ReactNode
}

export function Button({ variant = 'default', size = 'default', children, ...props }: ButtonProps) {
  return (
    <button
      className={cn(
        'inline-flex items-center justify-center rounded-md font-medium',
        variants[variant],
        sizes[size]
      )}
      {...props}
    >
      {children}
    </button>
  )
}`}
</Code>

#### 2. Feature Components
// components/features/entities/entity-card.tsx

<Code language="typescript" title="TypeScript">
{`import { Entity } from '@/types/entities'
import { Button } from '@/components/ui/button'

interface EntityCardProps {
  entity: Entity
  onEdit?: (entity: Entity) => void
}

export function EntityCard({ entity, onEdit }: EntityCardProps) {
  return (
    <div className="border rounded-lg p-4">
      <h3 className="font-semibold">{entity.name}</h3>
      <p className="text-gray-600">{entity.description}</p>
      {onEdit && (
        <Button onClick={() => onEdit(entity)}>
          Edit
        </Button>
      )}
    </div>
  )
}`}
</Code>

## ğŸ¯ Features Architecture

### Feature-Based Organization

```
features/
â”œâ”€â”€ entities/         # Entity management feature
â”‚   â”œâ”€â”€ components/   # Feature-specific components
â”‚   â”œâ”€â”€ hooks/       # Custom hooks
â”‚   â”œâ”€â”€ types/       # TypeScript types
â”‚   â”œâ”€â”€ utils/       # Feature utilities
â”‚   â””â”€â”€ index.ts     # Public API
â”œâ”€â”€ opportunities/   # Opportunities feature
â”œâ”€â”€ wallet/         # Web3 wallet feature
â””â”€â”€ messaging/      # Real-time messaging
```

### Feature Module Pattern

// features/entities/index.ts - Public API

<Code language="typescript" title="TypeScript">
{`export { EntityCard } from './components/entity-card'
export { useEntities } from './hooks/use-entities'
export type { Entity, EntityType } from './types'
export { createEntity, updateEntity } from './utils/entity-operations'`}
</Code>

### Custom Hooks Pattern

// features/entities/hooks/use-entities.ts

<Code language="typescript" title="TypeScript">
{`import { useQuery } from '@tanstack/react-query'
import { getEntities } from '../utils/entity-operations'

export function useEntities(userId?: string) {
  return useQuery({
    queryKey: ['entities', userId],
    queryFn: () => getEntities(userId),
    enabled: !!userId
  })
}`}
</Code>

## ğŸ”§ Lib Directory

### Shared Utilities

```
lib/
â”œâ”€â”€ auth.ts          # Auth.js configuration
â”œâ”€â”€ firebase.ts      # Firebase setup
â”œâ”€â”€ db.ts           # Database utilities
â”œâ”€â”€ utils.ts        # General utilities
â”œâ”€â”€ validations.ts  # Zod schemas
â”œâ”€â”€ constants.ts    # App constants
â””â”€â”€ types.ts        # Global types
```

### Key Utilities

#### Authentication Configuration
// lib/auth.ts

<Code language="typescript" title="TypeScript">
{`import NextAuth from 'next-auth'
import GoogleProvider from 'next-auth/providers/google'

export const { handlers, auth, signIn, signOut } = NextAuth({
  providers: [
    GoogleProvider({
      clientId: process.env.GOOGLE_CLIENT_ID!,
      clientSecret: process.env.GOOGLE_CLIENT_SECRET!,
    }),
  ],
  // ... configuration
})`}
</Code>

#### Database Utilities
// lib/db.ts

<Code language="typescript" title="TypeScript">
{`import { initializeApp } from 'firebase/app'
import { getFirestore } from 'firebase/firestore'

const app = initializeApp(firebaseConfig)
export const db = getFirestore(app)`}
</Code>

## âš¡ Server Actions

### Server Actions Structure

```
@actions/
â”œâ”€â”€ entities/
â”‚   â”œâ”€â”€ create-entity.ts
â”‚   â”œâ”€â”€ update-entity.ts
â”‚   â””â”€â”€ delete-entity.ts
â”œâ”€â”€ opportunities/
â””â”€â”€ auth/
```

### Server Action Pattern

<Code language="typescript" title="TypeScript">
{`// @actions/entities/create-entity.ts
'use server'

import { auth } from '@/lib/auth'
import { createEntitySchema } from '@/lib/validations'
import { redirect } from 'next/navigation'

export async function createEntity(formData: FormData) {
  const session = await auth()
  if (!session?.user) {
    redirect('/login')
  }

  const validatedFields = createEntitySchema.safeParse({
    name: formData.get('name'),
    type: formData.get('type'),
    description: formData.get('description'),
  })

  if (!validatedFields.success) {
    return { error: 'Invalid fields' }
  }

  // Create entity logic...
  
  redirect('/dashboard/entities')
}`}
</Code>

## ğŸ“ TypeScript Patterns

### Type Organization

// types/entities.ts

<Code language="typescript" title="TypeScript">
{`export interface Entity {
  id: string
  name: string
  type: EntityType
  description: string
  createdAt: Date
  updatedAt: Date
}

export type EntityType = 
  | 'technology'
  | 'healthcare'
  | 'finance'
  // ... other types

export interface CreateEntityRequest {
  name: string
  type: EntityType
  description: string
}`}
</Code>

### API Response Types

// types/api.ts

<Code language="typescript" title="TypeScript">
{`export interface ApiResponse<T = any> {
  data?: T
  error?: string
  message?: string
}

export interface PaginatedResponse<T> {
  data: T[]
  pagination: {
    page: number
    limit: number
    total: number
    totalPages: number
  }
}`}
</Code>

## ğŸ¨ Styling Architecture

### Tailwind CSS Organization

```
app/globals.css
â”œâ”€â”€ @tailwind base;
â”œâ”€â”€ @tailwind components;
â”œâ”€â”€ @tailwind utilities;
â””â”€â”€ /* Custom component styles */
```

### Component Styling Patterns

// Using cn utility for conditional classes

<Code language="typescript" title="TypeScript">
{`import { cn } from '@/lib/utils'

function Component({ variant, className }: Props) {
  return (
    <div
      className={cn(
        'base-styles',
        {
          'variant-styles': variant === 'special',
        },
        className
      )}
    >
      Content
    </div>
  )
}`}
</Code>

## ğŸ“š Best Practices

### 1. Import Organization
// External imports first

<Code language="typescript" title="TypeScript">
{`import React from 'react'
import { NextPage } from 'next'

// Internal imports
import { Button } from '@/components/ui/button'
import { useEntities } from '@/features/entities'
import { cn } from '@/lib/utils'

// Type imports last
import type { Entity } from '@/types/entities'`}
</Code>

### 2. Component File Structure
// 1. Imports

<Code language="typescript" title="TypeScript">
{`// 2. Types/Interfaces
// 3. Component implementation
// 4. Default export
// 5. Named exports (if any)`}
</Code>

### 3. Feature Boundaries
- Keep feature code within feature directories
- Use public APIs for cross-feature communication
- Avoid deep imports from other features

---

*Next: [Development Workflow](/ru/library/development/workflow) - Learn about our Git workflow and development process.*
